{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "manager",
    "nameEvent",
    "maxBiasTouch",
    "_pointTouchForMenu",
    "v2",
    "onLoad",
    "node",
    "on",
    "Node",
    "EventType",
    "TOUCH_START",
    "_onTouchStart",
    "bind",
    "TOUCH_MOVE",
    "_onTouchMove",
    "TOUCH_END",
    "_onTouchEnd",
    "event",
    "getLocation",
    "stopPropagation",
    "point",
    "X",
    "Math",
    "abs",
    "x",
    "Y",
    "y",
    "_publishEvent",
    "myEvent",
    "Event",
    "EventCustom",
    "detail",
    "animal",
    "parent",
    "dispatchEvent",
    "touch",
    "getPreviousLocation",
    "delta",
    "getDelta",
    "directionRotation"
  ],
  "mappings": ";;AAAA;;AAEA;;;;AAIAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,2CADQ,EACc;AACtBC,mBAAW,aAFH,EAEiB;AACzBC,sBAAc,EAHN,EAGS;AACjBC,4BAAoBR,GAAGS,EAJf,EAHP;;AAUL;;;;AAIAC,UAdK,oBAcI;AACL,aAAKC,IAAL,CAAUC,EAAV,CAAaZ,GAAGa,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAA5C;AACA,aAAKN,IAAL,CAAUC,EAAV,CAAaZ,GAAGa,IAAH,CAAQC,SAAR,CAAkBI,UAA/B,EAA2C,KAAKC,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAA3C;AACA,aAAKN,IAAL,CAAUC,EAAV,CAAaZ,GAAGa,IAAH,CAAQC,SAAR,CAAkBM,SAA/B,EAA0C,KAAKC,WAAL,CAAiBJ,IAAjB,CAAsB,IAAtB,CAA1C;AACH,KAlBI;;;AAoBL;;;;;;AAMAD,iBA1BK,yBA0BSM,KA1BT,EA0Be;AAChB,aAAKd,kBAAL,GAA0Bc,MAAMC,WAAN,EAA1B;AACAD,cAAME,eAAN;AACH,KA7BI;;;AA+BL;;;;;;AAMAH,eArCK,uBAqCOC,KArCP,EAqCa;AACd,YAAIG,QAAQH,MAAMC,WAAN,EAAZ;AACA,YAAIG,IAAIC,KAAKC,GAAL,CAAS,KAAKpB,kBAAL,CAAwBqB,CAAxB,GAA4BJ,MAAMI,CAA3C,IAAgD,KAAKtB,YAA7D;AACA,YAAIuB,IAAIH,KAAKC,GAAL,CAAS,KAAKpB,kBAAL,CAAwBuB,CAAxB,GAA4BN,MAAMM,CAA3C,IAAgD,KAAKxB,YAA7D;AACA,YAAImB,KAAKI,CAAT,EAAY;AACR,iBAAKE,aAAL;AACH;AACDV,cAAME,eAAN;AACH,KA7CI;;;AA+CL;;;;;AAKAQ,iBApDK,2BAoDU;AACX,YAAIC,UAAU,IAAIjC,GAAGkC,KAAH,CAASC,WAAb,CAAyB,KAAK7B,SAA9B,EAAyC,IAAzC,CAAd;AACA2B,gBAAQG,MAAR,GAAiB;AACbC,oBAAQ,KAAKhC,OAAL,CAAaiC;AADR,SAAjB;AAGA,aAAK3B,IAAL,CAAU4B,aAAV,CAAwBN,OAAxB;AACH,KA1DI;;;AA4DL;;;;;;AAMAd,gBAlEK,wBAkEQG,KAlER,EAkEe;AAChB,YAAIG,QAAQH,MAAMkB,KAAN,CAAYC,mBAAZ,EAAZ;AACA,YAAIC,QAAQpB,MAAMkB,KAAN,CAAYG,QAAZ,EAAZ;AACA,aAAKtC,OAAL,CAAauC,iBAAb,CAA+BF,MAAMb,CAArC,EAAwCa,MAAMX,CAA9C,EAAiDN,MAAMI,CAAvD,EAA0DJ,MAAMM,CAAhE;AACAT,cAAME,eAAN;AACH;AAvEI,CAAT",
  "file": "unknown",
  "sourcesContent": [
    "import { CircularList } from './circular-list';\r\n\r\n/**\r\n * Лист меню животного.\r\n * @class List\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        manager: CircularList,//ссылка на ядро вращения\r\n        nameEvent: 'voiceAnimal',//имя события которое вызывает эта кнопка\r\n        maxBiasTouch: 15,//максимальное смещение тача для нажатия по элементу меню (px)\r\n        _pointTouchForMenu: cc.v2,//точка старта тача по пункту меню\r\n    },\r\n\r\n    /**\r\n     * Инициализация листа меню животного.\r\n     * @method onLoad\r\n     */\r\n    onLoad() {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchStart.bind(this));\r\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove.bind(this));\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnd.bind(this));\r\n    },\r\n\r\n    /**\r\n     * Обработчик старта нажатия на лист.\r\n     * @method _onTouchStart\r\n     * @param {cc.Event} event объект события.\r\n     * @private\r\n     */\r\n    _onTouchStart(event){\r\n        this._pointTouchForMenu = event.getLocation();\r\n        event.stopPropagation();\r\n    },\r\n\r\n    /**\r\n     * Обработчик отпускания тача от листа.\r\n     * @method _onTouchEnd\r\n     * @param {cc.Event} event объект события.\r\n     * @private\r\n     */\r\n    _onTouchEnd(event){\r\n        let point = event.getLocation();\r\n        let X = Math.abs(this._pointTouchForMenu.x - point.x) < this.maxBiasTouch;\r\n        let Y = Math.abs(this._pointTouchForMenu.y - point.y) < this.maxBiasTouch;\r\n        if (X && Y) {\r\n            this._publishEvent();\r\n        }\r\n        event.stopPropagation();\r\n    },\r\n\r\n    /**\r\n     * Публикует событие свзанное с этим листом.\r\n     * @method _publishEvent\r\n     * @private\r\n     */\r\n    _publishEvent(){\r\n        let myEvent = new cc.Event.EventCustom(this.nameEvent, true);\r\n        myEvent.detail = {\r\n            animal: this.manager.parent,\r\n        };\r\n        this.node.dispatchEvent(myEvent);\r\n    },\r\n\r\n    /**\r\n     * Обработчик движения тача.\r\n     * @method _onTouchMove\r\n     * @param {cc.Event} event объект события.\r\n     * @private\r\n     */\r\n    _onTouchMove(event) {\r\n        let point = event.touch.getPreviousLocation();\r\n        var delta = event.touch.getDelta();\r\n        this.manager.directionRotation(delta.x, delta.y, point.x, point.y);\r\n        event.stopPropagation();\r\n    },\r\n});"
  ]
}