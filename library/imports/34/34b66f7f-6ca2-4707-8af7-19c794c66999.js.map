{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "__extends",
    "d",
    "b",
    "p",
    "hasOwnProperty",
    "__",
    "constructor",
    "prototype",
    "Object",
    "create",
    "Animals",
    "AnimalBuilder",
    "instance",
    "inst",
    "createSystems",
    "systems",
    "_this",
    "factory",
    "Systems",
    "Factories",
    "SystemFactory",
    "mas",
    "forEach",
    "item",
    "scalesType",
    "sc",
    "type",
    "masScales",
    "masSystems",
    "createScales",
    "scales",
    "Scales",
    "ScaleFactory",
    "typeScale",
    "params",
    "createCommunicator",
    "communocation",
    "communicatorBuild",
    "Communications",
    "Builders",
    "CommunicatorBuilder",
    "add",
    "build",
    "createStates",
    "states",
    "StateMachine",
    "FactoryState",
    "StateFactory",
    "paramState",
    "state",
    "links",
    "name",
    "_animal",
    "isEnd",
    "massStates",
    "link",
    "push",
    "Routes",
    "Route",
    "model",
    "probability",
    "setRouteEngine",
    "Engines",
    "ProbabilityRouteEngine",
    "TypesState",
    "startLife",
    "communication",
    "communicator",
    "Animal",
    "stateMachine",
    "muscular",
    "SystemTypes",
    "circulatory",
    "navigation",
    "_linkToAnimal",
    "defineProperty",
    "get",
    "_muscular",
    "set",
    "param",
    "enumerable",
    "configurable",
    "_circulatory",
    "_navigation",
    "_communicator",
    "_stateMachine",
    "_id",
    "_name",
    "moveToPoint",
    "point",
    "runLife",
    "console",
    "log",
    "run",
    "getCharacteristics",
    "value",
    "unit",
    "currentState",
    "_scales",
    "Communicator",
    "_factoryFunction",
    "Functions",
    "FunctionFactory",
    "behavior",
    "functions",
    "scale",
    "fun",
    "_createFunction",
    "addLink",
    "_netLinks",
    "_sensitivity",
    "setting",
    "sensitivity",
    "event",
    "publish",
    "pack",
    "delta",
    "calculate",
    "Math",
    "abs",
    "change",
    "BehaviorScaleTypes",
    "_factories",
    "FunctionTypes",
    "line",
    "LineFunction",
    "quadratic",
    "QuadraticFunction",
    "_instance",
    "system",
    "functionType",
    "_coefficient",
    "_free",
    "_coefficientA",
    "_coefficientB",
    "pow",
    "AScale",
    "_min",
    "getPercentageInScale",
    "_max",
    "_current",
    "_percent",
    "getCurrentValueOnScale",
    "_type",
    "ScaleTypes",
    "TypeScales",
    "SystemScale",
    "argument",
    "ArgumentScale",
    "ParameterScaleTypes",
    "_super",
    "call",
    "min",
    "max",
    "current",
    "_responseDelay",
    "responseDelay",
    "trigger",
    "increase",
    "decrease",
    "rez",
    "percent",
    "setTimeout",
    "analysis",
    "length",
    "TypeSystems",
    "Muscular",
    "Circulatory",
    "Navigation",
    "heartbeat",
    "pressure",
    "_heartbeat",
    "_pressure",
    "changeHeartbeat",
    "changePressure",
    "speed",
    "weight",
    "_speed",
    "_weight",
    "_currentPoint",
    "x",
    "y",
    "changeSpeed",
    "changeWeight",
    "speedSavvy",
    "radiusHearing",
    "radiusSmell",
    "radiusVision",
    "radiusTouch",
    "_speedSavvy",
    "_radiusVision",
    "_radiusHearing",
    "_radiusSmell",
    "_radiusTouch",
    "changeSpeedSavvy",
    "changeRadiusVision",
    "changeRadiusHearing",
    "changeRadiusSmell",
    "changeRadiusTouch",
    "APICore",
    "createAnimal",
    "putToModel",
    "id",
    "animal",
    "lion",
    "Map",
    "Map_1",
    "_inst",
    "_world",
    "map",
    "_initializationWorld",
    "Error",
    "layer",
    "_obstaclesLayer",
    "_waterLayer",
    "_treeLayer",
    "_initializationLayer",
    "_sizeMapTiled",
    "getMapSize",
    "_sizeTiled",
    "getTileSize",
    "_sizeMapPixel",
    "_getSizeMapPixel",
    "obstaclesLayer",
    "getLayer",
    "waterLayer",
    "treeLayer",
    "sizeX",
    "width",
    "sizeY",
    "height",
    "cc",
    "v2",
    "convertTiledPos",
    "posInPixel",
    "floor",
    "convertPixelPos",
    "posInTiled",
    "isChe—ÅkObstacle",
    "gid",
    "_isCorrectPos",
    "getTileGIDAt",
    "pos",
    "StateMachine_1",
    "_state",
    "then",
    "isEndPoint",
    "getNextState",
    "States",
    "State",
    "routeEngine",
    "_model",
    "_routeEngine",
    "_isEndPoint",
    "getName",
    "route",
    "getRoute",
    "getState",
    "setModel",
    "PatternState",
    "_states",
    "PrimitiveState",
    "RouteEngine",
    "routes",
    "nextEngine",
    "_routes",
    "_nextEngine",
    "_a",
    "apply",
    "setNextEngine",
    "engine",
    "_nextRouteEngine",
    "SimpleRouteEngine",
    "filter",
    "isAvailable",
    "random",
    "availability",
    "_availability",
    "StatesLib",
    "StateDie",
    "resolveFn",
    "rejectFn",
    "promise",
    "Promise",
    "resolve",
    "reject",
    "StateRun",
    "StateStand",
    "StateStart",
    "stand",
    "die",
    "typeState"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Animals;\r\n(function (Animals) {\r\n    var AnimalBuilder = (function () {\r\n        function AnimalBuilder() {\r\n        }\r\n        AnimalBuilder.instance = function () {\r\n            if (!this.inst) {\r\n                this.inst = new AnimalBuilder();\r\n            }\r\n            return this.inst;\r\n        };\r\n        AnimalBuilder.prototype.createSystems = function (systems) {\r\n            var _this = this;\r\n            var factory = Animals.Systems.Factories.SystemFactory.instance();\r\n            var mas = [];\r\n            systems.forEach(function (item) {\r\n                mas = [];\r\n                item.scalesType.forEach(function (sc) {\r\n                    mas[sc.type] = _this.masScales[sc.type];\r\n                });\r\n                _this.masSystems[item.type] = factory.create(item.type, mas);\r\n            });\r\n            return this;\r\n        };\r\n        AnimalBuilder.prototype.createScales = function (scales) {\r\n            var _this = this;\r\n            var factory = Animals.Scales.Factories.ScaleFactory.instance();\r\n            scales.forEach(function (item) {\r\n                var typeScale = item.typeScale, type = item.type, params = item.params;\r\n                params.type = type;\r\n                _this.masScales[type] = factory.create(typeScale, params);\r\n            });\r\n            return this;\r\n        };\r\n        AnimalBuilder.prototype.createCommunicator = function (communocation) {\r\n            var communicatorBuild = new Animals.Communications.Builders.CommunicatorBuilder(this.masScales);\r\n            communocation.forEach(function (item) {\r\n                communicatorBuild.add(item);\r\n            });\r\n            return communicatorBuild.build();\r\n        };\r\n        AnimalBuilder.prototype.createStates = function (states) {\r\n            var _this = this;\r\n            var factory = Animals.StateMachine.FactoryState.StateFactory.instance();\r\n            var paramState = [];\r\n            var state = states.state, links = states.links;\r\n            state.forEach(function (item) {\r\n                paramState[item.type] = factory.create(item.type, item.name, _this._animal, item.isEnd);\r\n            });\r\n            links.forEach(function (item) {\r\n                var massStates = [];\r\n                item.link.forEach(function (state) {\r\n                    massStates.push(new Animals.StateMachine.Routes.Route(paramState[state.type], function (model, probability) {\r\n                        if (state.probability > probability) {\r\n                            return true;\r\n                        }\r\n                        return false;\r\n                    }));\r\n                });\r\n                paramState[item.type].setRouteEngine(new Animals.StateMachine.Routes.Engines.ProbabilityRouteEngine(massStates));\r\n            });\r\n            return new Animals.StateMachine.StateMachine(paramState[Animals.StateMachine.FactoryState.TypesState.startLife]);\r\n        };\r\n        AnimalBuilder.prototype.create = function (model) {\r\n            var name = model.name, systems = model.systems, scales = model.scales, communication = model.communication, states = model.states;\r\n            this.masScales = [];\r\n            this.masSystems = [];\r\n            var communicator = this.createScales(scales).createSystems(systems).createCommunicator(communication);\r\n            this._animal = new Animals.Animal(this.masSystems);\r\n            this._animal.name = name;\r\n            this._animal.stateMachine = this.createStates(states);\r\n            this._animal.communicator = communicator;\r\n            return this._animal;\r\n        };\r\n        return AnimalBuilder;\r\n    }());\r\n    Animals.AnimalBuilder = AnimalBuilder;\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Animal = (function () {\r\n        function Animal(params) {\r\n            this.muscular = params[Animals.Systems.SystemTypes.muscular];\r\n            this.circulatory = params[Animals.Systems.SystemTypes.circulatory];\r\n            this.navigation = params[Animals.Systems.SystemTypes.navigation];\r\n            this.muscular._linkToAnimal = this;\r\n            this.circulatory._linkToAnimal = this;\r\n            this.navigation._linkToAnimal = this;\r\n        }\r\n        Object.defineProperty(Animal.prototype, \"muscular\", {\r\n            get: function () {\r\n                return this._muscular;\r\n            },\r\n            set: function (param) {\r\n                if (param) {\r\n                    this._muscular = param;\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Animal.prototype, \"circulatory\", {\r\n            get: function () {\r\n                return this._circulatory;\r\n            },\r\n            set: function (param) {\r\n                if (param) {\r\n                    this._circulatory = param;\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Animal.prototype, \"navigation\", {\r\n            get: function () {\r\n                return this._navigation;\r\n            },\r\n            set: function (param) {\r\n                if (param) {\r\n                    this._navigation = param;\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Animal.prototype, \"communicator\", {\r\n            get: function () {\r\n                return this._communicator;\r\n            },\r\n            set: function (param) {\r\n                this._communicator = param;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Animal.prototype, \"stateMachine\", {\r\n            get: function () {\r\n                return this._stateMachine;\r\n            },\r\n            set: function (param) {\r\n                this._stateMachine = param;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Animal.prototype, \"id\", {\r\n            get: function () {\r\n                return this._id;\r\n            },\r\n            set: function (param) {\r\n                this._id = param;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Animal.prototype, \"name\", {\r\n            get: function () {\r\n                return this._name;\r\n            },\r\n            set: function (param) {\r\n                this._name = param;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Animal.prototype.moveToPoint = function (point) {\r\n        };\r\n        Animal.prototype.runLife = function () {\r\n            console.log(this);\r\n            this._stateMachine.run();\r\n        };\r\n        Animal.prototype.getCharacteristics = function () {\r\n            var params = [\r\n                {\r\n                    name: '–°–∫–æ—Ä–æ—Å—Ç—å',\r\n                    value: 89,\r\n                    unit: '–º/—Å',\r\n                },\r\n                {\r\n                    name: '–í–æ–∑—Ä–∞—Å—Ç',\r\n                    value: 12,\r\n                    unit: '–ª–µ—Ç',\r\n                },\r\n                {\r\n                    name: '–í–µ—Å',\r\n                    value: 12,\r\n                    unit: '–∫–≥',\r\n                },\r\n                {\r\n                    name: '–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å',\r\n                    value: 12,\r\n                    unit: '–µ–¥.',\r\n                },\r\n                {\r\n                    name: '–°–∏—Å—Ç–µ–º–∞ –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏—è',\r\n                    value: 89,\r\n                    unit: '%',\r\n                },\r\n                {\r\n                    name: '–°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏',\r\n                    value: 59,\r\n                    unit: '%',\r\n                },\r\n                {\r\n                    name: '–°–∏—Å—Ç–µ–º–∞ –¥—ã—Ö–∞–Ω–∏—è',\r\n                    value: 89,\r\n                    unit: '%',\r\n                }\r\n            ];\r\n            return {\r\n                name: this._name,\r\n                currentState: '–ë–µ–≥—É',\r\n                param: params,\r\n            };\r\n        };\r\n        return Animal;\r\n    }());\r\n    Animals.Animal = Animal;\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Communications;\r\n    (function (Communications) {\r\n        var Builders;\r\n        (function (Builders) {\r\n            var CommunicatorBuilder = (function () {\r\n                function CommunicatorBuilder(scales) {\r\n                    this._scales = scales;\r\n                    this._communicator = new Communications.Communicator();\r\n                    this._factoryFunction = Animals.Functions.Factories.FunctionFactory.instance();\r\n                }\r\n                CommunicatorBuilder.prototype.add = function (param) {\r\n                    var _this = this;\r\n                    param.link.forEach(function (communication) {\r\n                        var type = communication.type, behavior = communication.behavior, functions = communication.functions, params = communication.params;\r\n                        var scale = _this._scales[type];\r\n                        var fun = _this._createFunction(functions, params);\r\n                        _this._communicator.addLink(param.type, { scale: scale, behavior: behavior, fun: fun });\r\n                        scale.communicator = _this._communicator;\r\n                    });\r\n                    return this;\r\n                };\r\n                CommunicatorBuilder.prototype.build = function () {\r\n                    return this._communicator;\r\n                };\r\n                CommunicatorBuilder.prototype._createFunction = function (type, params) {\r\n                    return this._factoryFunction.create(type, params);\r\n                };\r\n                return CommunicatorBuilder;\r\n            }());\r\n            Builders.CommunicatorBuilder = CommunicatorBuilder;\r\n        })(Builders = Communications.Builders || (Communications.Builders = {}));\r\n    })(Communications = Animals.Communications || (Animals.Communications = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Communications;\r\n    (function (Communications) {\r\n        var Communicator = (function () {\r\n            function Communicator() {\r\n                this._netLinks = [];\r\n                this._sensitivity = 0.1;\r\n            }\r\n            Object.defineProperty(Communicator.prototype, \"sensitivity\", {\r\n                get: function () {\r\n                    return this._sensitivity;\r\n                },\r\n                set: function (param) {\r\n                    this._sensitivity = param ? param : 0.1;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Communicator.prototype.setting = function (params) {\r\n                this.sensitivity = params.sensitivity || 0.1;\r\n            };\r\n            Communicator.prototype.addLink = function (event, link) {\r\n                if (this._netLinks[event]) {\r\n                    this._netLinks[event].push(link);\r\n                }\r\n                else {\r\n                    this._netLinks[event] = [link];\r\n                }\r\n            };\r\n            Communicator.prototype.publish = function (pack, param) {\r\n                var _this = this;\r\n                var links = this._netLinks[pack.type];\r\n                if (links) {\r\n                    links.forEach(function (link) {\r\n                        var delta = link.fun.calculate(param);\r\n                        if (Math.abs(delta) > _this._sensitivity) {\r\n                            delta = pack.behavior === link.behavior ? delta : -delta;\r\n                            link.scale.change(delta);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n            return Communicator;\r\n        }());\r\n        Communications.Communicator = Communicator;\r\n    })(Communications = Animals.Communications || (Animals.Communications = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Communications;\r\n    (function (Communications) {\r\n        (function (BehaviorScaleTypes) {\r\n            BehaviorScaleTypes[BehaviorScaleTypes[\"increase\"] = 1] = \"increase\";\r\n            BehaviorScaleTypes[BehaviorScaleTypes[\"decrease\"] = 2] = \"decrease\";\r\n        })(Communications.BehaviorScaleTypes || (Communications.BehaviorScaleTypes = {}));\r\n        var BehaviorScaleTypes = Communications.BehaviorScaleTypes;\r\n    })(Communications = Animals.Communications || (Animals.Communications = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Functions;\r\n    (function (Functions) {\r\n        var Factories;\r\n        (function (Factories) {\r\n            var FunctionFactory = (function () {\r\n                function FunctionFactory() {\r\n                    this._factories = [];\r\n                    this._factories[Functions.FunctionTypes.line] = Functions.LineFunction;\r\n                    this._factories[Functions.FunctionTypes.quadratic] = Functions.QuadraticFunction;\r\n                }\r\n                FunctionFactory.instance = function () {\r\n                    if (!this._instance) {\r\n                        this._instance = new FunctionFactory();\r\n                    }\r\n                    return this._instance;\r\n                };\r\n                FunctionFactory.prototype.add = function (type, system) {\r\n                    this._factories[type] = system;\r\n                };\r\n                FunctionFactory.prototype.create = function (functionType, params) {\r\n                    return new this._factories[functionType](params);\r\n                };\r\n                return FunctionFactory;\r\n            }());\r\n            Factories.FunctionFactory = FunctionFactory;\r\n        })(Factories = Functions.Factories || (Functions.Factories = {}));\r\n    })(Functions = Animals.Functions || (Animals.Functions = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Functions;\r\n    (function (Functions) {\r\n        (function (FunctionTypes) {\r\n            FunctionTypes[FunctionTypes[\"line\"] = 1] = \"line\";\r\n            FunctionTypes[FunctionTypes[\"quadratic\"] = 2] = \"quadratic\";\r\n        })(Functions.FunctionTypes || (Functions.FunctionTypes = {}));\r\n        var FunctionTypes = Functions.FunctionTypes;\r\n    })(Functions = Animals.Functions || (Animals.Functions = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Functions;\r\n    (function (Functions) {\r\n        var LineFunction = (function () {\r\n            function LineFunction(params) {\r\n                this._coefficient = params[0] || 0;\r\n                this._free = params[1] || 0;\r\n            }\r\n            Object.defineProperty(LineFunction.prototype, \"coefficient\", {\r\n                get: function () {\r\n                    return this._coefficient;\r\n                },\r\n                set: function (param) {\r\n                    this._coefficient = param ? param : 0;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(LineFunction.prototype, \"free\", {\r\n                get: function () {\r\n                    return this._free;\r\n                },\r\n                set: function (param) {\r\n                    this._free = param ? param : 0;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            LineFunction.prototype.calculate = function (param) {\r\n                return this._coefficient * param + this._free;\r\n            };\r\n            return LineFunction;\r\n        }());\r\n        Functions.LineFunction = LineFunction;\r\n    })(Functions = Animals.Functions || (Animals.Functions = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Functions;\r\n    (function (Functions) {\r\n        var QuadraticFunction = (function () {\r\n            function QuadraticFunction(params) {\r\n                this._coefficientA = params[0] || 0;\r\n                this._coefficientB = params[1] || 0;\r\n                this._free = params[2] || 0;\r\n            }\r\n            Object.defineProperty(QuadraticFunction.prototype, \"coefficientA\", {\r\n                get: function () {\r\n                    return this._coefficientA;\r\n                },\r\n                set: function (param) {\r\n                    this._coefficientA = param ? param : 0;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(QuadraticFunction.prototype, \"coefficientB\", {\r\n                get: function () {\r\n                    return this._coefficientB;\r\n                },\r\n                set: function (param) {\r\n                    this._coefficientB = param ? param : 0;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(QuadraticFunction.prototype, \"free\", {\r\n                get: function () {\r\n                    return this._free;\r\n                },\r\n                set: function (param) {\r\n                    this._free = param ? param : 0;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            QuadraticFunction.prototype.calculate = function (param) {\r\n                return this._coefficientA * (Math.pow(param, 2)) + this._coefficientB * param + this._free;\r\n            };\r\n            return QuadraticFunction;\r\n        }());\r\n        Functions.QuadraticFunction = QuadraticFunction;\r\n    })(Functions = Animals.Functions || (Animals.Functions = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        var AScale = (function () {\r\n            function AScale() {\r\n            }\r\n            Object.defineProperty(AScale.prototype, \"name\", {\r\n                get: function () {\r\n                    return this._name;\r\n                },\r\n                set: function (param) {\r\n                    this._name = param;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(AScale.prototype, \"min\", {\r\n                get: function () {\r\n                    return this._min;\r\n                },\r\n                set: function (param) {\r\n                    this._min = param;\r\n                    this.getPercentageInScale();\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(AScale.prototype, \"max\", {\r\n                get: function () {\r\n                    return this._max;\r\n                },\r\n                set: function (param) {\r\n                    this._max = param;\r\n                    this.getPercentageInScale();\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(AScale.prototype, \"current\", {\r\n                get: function () {\r\n                    return this._current;\r\n                },\r\n                set: function (param) {\r\n                    this._current = param;\r\n                    this.getPercentageInScale();\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(AScale.prototype, \"percent\", {\r\n                get: function () {\r\n                    return this._percent;\r\n                },\r\n                set: function (param) {\r\n                    this._percent = param;\r\n                    this.getCurrentValueOnScale();\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(AScale.prototype, \"type\", {\r\n                get: function () {\r\n                    return this._type;\r\n                },\r\n                set: function (param) {\r\n                    this._type = param;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            AScale.prototype.getPercentageInScale = function () {\r\n                this._percent = ((this._current - this._min) * 100) / (this._max - this._min);\r\n            };\r\n            AScale.prototype.getCurrentValueOnScale = function () {\r\n                this._current = (((this._max - this._min) / 100) * this._percent) + this._min;\r\n            };\r\n            return AScale;\r\n        }());\r\n        Scales.AScale = AScale;\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        var Factories;\r\n        (function (Factories) {\r\n            var ScaleFactory = (function () {\r\n                function ScaleFactory() {\r\n                    this._factories = [];\r\n                    this._factories[Scales.ScaleTypes.system] = Animals.Scales.TypeScales.SystemScale;\r\n                    this._factories[Scales.ScaleTypes.argument] = Animals.Scales.TypeScales.ArgumentScale;\r\n                }\r\n                ScaleFactory.instance = function () {\r\n                    if (!this._instance) {\r\n                        this._instance = new ScaleFactory();\r\n                    }\r\n                    return this._instance;\r\n                };\r\n                ScaleFactory.prototype.add = function (type, system) {\r\n                    this._factories[type] = system;\r\n                };\r\n                ScaleFactory.prototype.create = function (functionType, params) {\r\n                    return new this._factories[functionType](params);\r\n                };\r\n                return ScaleFactory;\r\n            }());\r\n            Factories.ScaleFactory = ScaleFactory;\r\n        })(Factories = Scales.Factories || (Scales.Factories = {}));\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        (function (ParameterScaleTypes) {\r\n            ParameterScaleTypes[ParameterScaleTypes[\"state\"] = 1] = \"state\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"speed\"] = 2] = \"speed\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"weight\"] = 3] = \"weight\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"heartbeat\"] = 4] = \"heartbeat\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"pressure\"] = 5] = \"pressure\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"amountPointRememberWater\"] = 6] = \"amountPointRememberWater\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"amountPointRememberGrass\"] = 7] = \"amountPointRememberGrass\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"amountPointRememberMeat\"] = 8] = \"amountPointRememberMeat\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"speedSavvy\"] = 9] = \"speedSavvy\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"radiusVision\"] = 10] = \"radiusVision\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"radiusHearing\"] = 11] = \"radiusHearing\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"radiusSmell\"] = 12] = \"radiusSmell\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"radiusTouch\"] = 13] = \"radiusTouch\";\r\n        })(Scales.ParameterScaleTypes || (Scales.ParameterScaleTypes = {}));\r\n        var ParameterScaleTypes = Scales.ParameterScaleTypes;\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        (function (ScaleTypes) {\r\n            ScaleTypes[ScaleTypes[\"system\"] = 0] = \"system\";\r\n            ScaleTypes[ScaleTypes[\"argument\"] = 1] = \"argument\";\r\n        })(Scales.ScaleTypes || (Scales.ScaleTypes = {}));\r\n        var ScaleTypes = Scales.ScaleTypes;\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        var TypeScales;\r\n        (function (TypeScales) {\r\n            var ArgumentScale = (function (_super) {\r\n                __extends(ArgumentScale, _super);\r\n                function ArgumentScale(params) {\r\n                    _super.call(this);\r\n                    this._name = params.name || \"No name\";\r\n                    this._min = params.min || 0;\r\n                    this._max = params.max || 100;\r\n                    this._current = params.current || this._max;\r\n                    this._responseDelay = params.responseDelay || 1000;\r\n                    this._type = params.type || 0;\r\n                    this.getPercentageInScale();\r\n                }\r\n                Object.defineProperty(ArgumentScale.prototype, \"responseDelay\", {\r\n                    get: function () {\r\n                        return this._responseDelay;\r\n                    },\r\n                    set: function (param) {\r\n                        this._responseDelay = param ? param : 1000;\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(ArgumentScale.prototype, \"communicator\", {\r\n                    get: function () {\r\n                        return this._communicator;\r\n                    },\r\n                    set: function (param) {\r\n                        this._communicator = param;\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                ArgumentScale.prototype.trigger = function (params) {\r\n                    var event = (params > 0) ? Animals.Communications.BehaviorScaleTypes.increase : Animals.Communications.BehaviorScaleTypes.decrease;\r\n                    var pack = {\r\n                        behavior: event,\r\n                        type: this._type\r\n                    };\r\n                    this._communicator.publish(pack, params);\r\n                };\r\n                ArgumentScale.prototype.change = function (delta) {\r\n                    var _this = this;\r\n                    var rez = this.percent + delta;\r\n                    if (rez <= 100 && rez >= 0) {\r\n                        this.percent = rez;\r\n                        this.getCurrentValueOnScale();\r\n                    }\r\n                    setTimeout(function () {\r\n                        _this.trigger(delta);\r\n                    }, this.responseDelay);\r\n                };\r\n                return ArgumentScale;\r\n            }(Scales.AScale));\r\n            TypeScales.ArgumentScale = ArgumentScale;\r\n        })(TypeScales = Scales.TypeScales || (Scales.TypeScales = {}));\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        var TypeScales;\r\n        (function (TypeScales) {\r\n            var SystemScale = (function (_super) {\r\n                __extends(SystemScale, _super);\r\n                function SystemScale(params) {\r\n                    _super.call(this);\r\n                    this._name = params.name || \"No name\";\r\n                    this._min = params.min || 0;\r\n                    this._max = params.max || 100;\r\n                    this._current = params.current || this._max;\r\n                    this._type = params.type || 0;\r\n                    this.getPercentageInScale();\r\n                }\r\n                SystemScale.prototype.analysis = function (params) {\r\n                    var rez = 0;\r\n                    params.forEach(function (param) {\r\n                        rez += param.percent;\r\n                    });\r\n                    this.percent = rez / params.length;\r\n                    this.getCurrentValueOnScale();\r\n                };\r\n                return SystemScale;\r\n            }(Scales.AScale));\r\n            TypeScales.SystemScale = SystemScale;\r\n        })(TypeScales = Scales.TypeScales || (Scales.TypeScales = {}));\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Systems;\r\n    (function (Systems) {\r\n        var Factories;\r\n        (function (Factories) {\r\n            var SystemFactory = (function () {\r\n                function SystemFactory() {\r\n                    this._factories = [];\r\n                    this._factories[Systems.SystemTypes.muscular] = Animals.Systems.TypeSystems.Muscular;\r\n                    this._factories[Systems.SystemTypes.circulatory] = Animals.Systems.TypeSystems.Circulatory;\r\n                    this._factories[Systems.SystemTypes.navigation] = Animals.Systems.TypeSystems.Navigation;\r\n                }\r\n                SystemFactory.instance = function () {\r\n                    if (!this._instance) {\r\n                        this._instance = new SystemFactory();\r\n                    }\r\n                    return this._instance;\r\n                };\r\n                SystemFactory.prototype.add = function (type, system) {\r\n                    this._factories[type] = system;\r\n                };\r\n                SystemFactory.prototype.create = function (functionType, params) {\r\n                    return new this._factories[functionType](params);\r\n                };\r\n                return SystemFactory;\r\n            }());\r\n            Factories.SystemFactory = SystemFactory;\r\n        })(Factories = Systems.Factories || (Systems.Factories = {}));\r\n    })(Systems = Animals.Systems || (Animals.Systems = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Systems;\r\n    (function (Systems) {\r\n        (function (SystemTypes) {\r\n            SystemTypes[SystemTypes[\"muscular\"] = 1] = \"muscular\";\r\n            SystemTypes[SystemTypes[\"circulatory\"] = 2] = \"circulatory\";\r\n            SystemTypes[SystemTypes[\"memory\"] = 3] = \"memory\";\r\n            SystemTypes[SystemTypes[\"navigation\"] = 4] = \"navigation\";\r\n        })(Systems.SystemTypes || (Systems.SystemTypes = {}));\r\n        var SystemTypes = Systems.SystemTypes;\r\n    })(Systems = Animals.Systems || (Animals.Systems = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Systems;\r\n    (function (Systems) {\r\n        var TypeSystems;\r\n        (function (TypeSystems) {\r\n            var Circulatory = (function () {\r\n                function Circulatory(scales) {\r\n                    this.state = scales[Animals.Scales.ParameterScaleTypes.state] || new Animals.Scales.TypeScales.SystemScale([]);\r\n                    ;\r\n                    this.heartbeat = scales[Animals.Scales.ParameterScaleTypes.heartbeat];\r\n                    this.pressure = scales[Animals.Scales.ParameterScaleTypes.pressure];\r\n                }\r\n                Object.defineProperty(Circulatory.prototype, \"heartbeat\", {\r\n                    get: function () {\r\n                        return this._heartbeat;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._heartbeat = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Circulatory.prototype, \"pressure\", {\r\n                    get: function () {\r\n                        return this._pressure;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._pressure = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Circulatory.prototype.changeHeartbeat = function (delta) {\r\n                    this._heartbeat.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Circulatory.prototype.changePressure = function (delta) {\r\n                    this._pressure.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Circulatory.prototype.analysis = function () {\r\n                    this.state.analysis([]);\r\n                };\r\n                return Circulatory;\r\n            }());\r\n            TypeSystems.Circulatory = Circulatory;\r\n        })(TypeSystems = Systems.TypeSystems || (Systems.TypeSystems = {}));\r\n    })(Systems = Animals.Systems || (Animals.Systems = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Systems;\r\n    (function (Systems) {\r\n        var TypeSystems;\r\n        (function (TypeSystems) {\r\n            var Muscular = (function () {\r\n                function Muscular(scales) {\r\n                    this.state = scales[Animals.Scales.ParameterScaleTypes.state] || new Animals.Scales.TypeScales.SystemScale([]);\r\n                    this.speed = scales[Animals.Scales.ParameterScaleTypes.speed];\r\n                    this.weight = scales[Animals.Scales.ParameterScaleTypes.weight];\r\n                }\r\n                Object.defineProperty(Muscular.prototype, \"speed\", {\r\n                    get: function () {\r\n                        return this._speed;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._speed = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Muscular.prototype, \"weight\", {\r\n                    get: function () {\r\n                        return this._weight;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._weight = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Muscular.prototype, \"currentPoint\", {\r\n                    get: function () {\r\n                        return this._currentPoint;\r\n                    },\r\n                    set: function (param) {\r\n                        this._currentPoint.x = param.x;\r\n                        this._currentPoint.y = param.y;\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Muscular.prototype.changeSpeed = function (delta) {\r\n                    this._speed.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Muscular.prototype.changeWeight = function (delta) {\r\n                    this._weight.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Muscular.prototype.analysis = function () {\r\n                    this.state.analysis([]);\r\n                };\r\n                return Muscular;\r\n            }());\r\n            TypeSystems.Muscular = Muscular;\r\n        })(TypeSystems = Systems.TypeSystems || (Systems.TypeSystems = {}));\r\n    })(Systems = Animals.Systems || (Animals.Systems = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Systems;\r\n    (function (Systems) {\r\n        var TypeSystems;\r\n        (function (TypeSystems) {\r\n            var Navigation = (function () {\r\n                function Navigation(scales) {\r\n                    this.state = scales[Animals.Scales.ParameterScaleTypes.state] || new Animals.Scales.TypeScales.SystemScale([]);\r\n                    this.speedSavvy = scales[Animals.Scales.ParameterScaleTypes.speedSavvy];\r\n                    this.radiusHearing = scales[Animals.Scales.ParameterScaleTypes.radiusHearing];\r\n                    this.radiusSmell = scales[Animals.Scales.ParameterScaleTypes.radiusSmell];\r\n                    this.radiusVision = scales[Animals.Scales.ParameterScaleTypes.radiusVision];\r\n                    this.radiusTouch = scales[Animals.Scales.ParameterScaleTypes.radiusTouch];\r\n                }\r\n                Object.defineProperty(Navigation.prototype, \"speedSavvy\", {\r\n                    get: function () {\r\n                        return this._speedSavvy;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._speedSavvy = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Navigation.prototype, \"radiusVision\", {\r\n                    get: function () {\r\n                        return this._radiusVision;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._radiusVision = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Navigation.prototype, \"radiusHearing\", {\r\n                    get: function () {\r\n                        return this._radiusHearing;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._radiusHearing = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Navigation.prototype, \"radiusSmell\", {\r\n                    get: function () {\r\n                        return this._radiusSmell;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._radiusSmell = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Navigation.prototype, \"radiusTouch\", {\r\n                    get: function () {\r\n                        return this._radiusTouch;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._radiusTouch = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Navigation.prototype.changeSpeedSavvy = function (delta) {\r\n                    this._speedSavvy.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Navigation.prototype.changeRadiusVision = function (delta) {\r\n                    this._radiusVision.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Navigation.prototype.changeRadiusHearing = function (delta) {\r\n                    this._radiusHearing.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Navigation.prototype.changeRadiusSmell = function (delta) {\r\n                    this._radiusSmell.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Navigation.prototype.changeRadiusTouch = function (delta) {\r\n                    this._radiusTouch.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Navigation.prototype.analysis = function () {\r\n                    this.state.analysis([]);\r\n                };\r\n                return Navigation;\r\n            }());\r\n            TypeSystems.Navigation = Navigation;\r\n        })(TypeSystems = Systems.TypeSystems || (Systems.TypeSystems = {}));\r\n    })(Systems = Animals.Systems || (Animals.Systems = {}));\r\n})(Animals || (Animals = {}));\r\nvar APICore = (function () {\r\n    function APICore() {\r\n    }\r\n    APICore.instance = function () {\r\n        if (!this.inst) {\r\n            this.inst = new APICore();\r\n        }\r\n        return this.inst;\r\n    };\r\n    APICore.prototype.createAnimal = function (putToModel, id) {\r\n        var factory = Animals.AnimalBuilder.instance();\r\n        var animal = factory.create(lion);\r\n        animal.id = id;\r\n        return animal;\r\n    };\r\n    return APICore;\r\n}());\r\nvar Map;\r\n(function (Map_1) {\r\n    var Map = (function () {\r\n        function Map() {\r\n        }\r\n        Map.instance = function () {\r\n            if (!this._inst) {\r\n                this._inst = new Map();\r\n            }\r\n            return this._inst;\r\n        };\r\n        Object.defineProperty(Map.prototype, \"world\", {\r\n            get: function () {\r\n                return this._world;\r\n            },\r\n            set: function (map) {\r\n                if (map) {\r\n                    this._world = map;\r\n                    this._initializationWorld();\r\n                }\r\n                else {\r\n                    throw new Error('World was not found...');\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Map.prototype, \"obstaclesLayer\", {\r\n            set: function (layer) {\r\n                if (layer) {\r\n                    this._obstaclesLayer = layer;\r\n                }\r\n                else {\r\n                    throw new Error('Layer obstacle was not found...');\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Map.prototype, \"waterLayer\", {\r\n            set: function (layer) {\r\n                if (layer) {\r\n                    this._waterLayer = layer;\r\n                }\r\n                else {\r\n                    throw new Error('Layer water was not found...');\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Map.prototype, \"treeLayer\", {\r\n            set: function (layer) {\r\n                if (layer) {\r\n                    this._treeLayer = layer;\r\n                }\r\n                else {\r\n                    throw new Error('Layer tree was not found...');\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Map.prototype._initializationWorld = function () {\r\n            this._initializationLayer();\r\n            this._sizeMapTiled = this._world.getMapSize();\r\n            this._sizeTiled = this._world.getTileSize();\r\n            this._sizeMapPixel = this._getSizeMapPixel();\r\n        };\r\n        Map.prototype._initializationLayer = function () {\r\n            this.obstaclesLayer = this._world.getLayer('obstacle');\r\n            this.waterLayer = this._world.getLayer('water');\r\n            this.treeLayer = this._world.getLayer('tree');\r\n        };\r\n        Map.prototype._getSizeMapPixel = function () {\r\n            var sizeX = this._sizeMapTiled.width * this._sizeTiled.width;\r\n            var sizeY = this._sizeMapTiled.height * this._sizeTiled.height;\r\n            return cc.v2(sizeX, sizeY);\r\n        };\r\n        Map.prototype.convertTiledPos = function (posInPixel) {\r\n            var x = Math.floor((posInPixel.x) / this._sizeTiled.width);\r\n            var y = Math.floor((this._sizeMapPixel.y - (posInPixel.y)) / this._sizeTiled.height);\r\n            return cc.v2(x, y);\r\n        };\r\n        Map.prototype.convertPixelPos = function (posInTiled) {\r\n            var x = posInTiled.x * this._sizeTiled.width + this._sizeTiled.width / 2;\r\n            var y = this._sizeMapPixel.y - (posInTiled.y * this._sizeTiled.height) - this._sizeTiled.height / 2;\r\n            return cc.v2(x, y);\r\n        };\r\n        Map.prototype.isChe—ÅkObstacle = function (gid) {\r\n            if (this._isCorrectPos(gid)) {\r\n                if (this._obstaclesLayer.getTileGIDAt(gid.x, gid.y) === 0) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        Map.prototype._isCorrectPos = function (pos) {\r\n            if (pos.x < 0 || pos.y < 0 || pos.x > this._sizeMapTiled.width - 1 || pos.y > this._sizeMapTiled.height - 1) {\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n        return Map;\r\n    }());\r\n    Map_1.Map = Map;\r\n})(Map || (Map = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine_1) {\r\n        var StateMachine = (function () {\r\n            function StateMachine(state) {\r\n                this._state = state;\r\n            }\r\n            StateMachine.prototype.run = function () {\r\n                var _this = this;\r\n                this._state.run().then(function () {\r\n                    if (!_this._state.isEndPoint()) {\r\n                        _this._state = _this._state.getNextState();\r\n                        _this.run();\r\n                    }\r\n                }, function () {\r\n                    throw new Error('Error in state... (StateMachine)');\r\n                });\r\n            };\r\n            return StateMachine;\r\n        }());\r\n        StateMachine_1.StateMachine = StateMachine;\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var States;\r\n        (function (States) {\r\n            var State = (function () {\r\n                function State(name, model, routeEngine, isEndPoint) {\r\n                    if (routeEngine === void 0) { routeEngine = null; }\r\n                    if (isEndPoint === void 0) { isEndPoint = false; }\r\n                    this._name = name;\r\n                    this._model = model;\r\n                    this._routeEngine = routeEngine;\r\n                    this._isEndPoint = isEndPoint;\r\n                }\r\n                State.prototype.getName = function () {\r\n                    return this._name;\r\n                };\r\n                State.prototype.getNextState = function () {\r\n                    if (!this._routeEngine) {\r\n                        return this;\r\n                    }\r\n                    var route = this._routeEngine.getRoute();\r\n                    return route ? route.getState() : this;\r\n                };\r\n                State.prototype.isEndPoint = function () {\r\n                    return this._isEndPoint;\r\n                };\r\n                State.prototype.setRouteEngine = function (routeEngine) {\r\n                    this._routeEngine = routeEngine;\r\n                    this._routeEngine.setModel(this._model);\r\n                };\r\n                State.prototype.add = function (state) {\r\n                    throw new Error('Not implemented yet...');\r\n                };\r\n                State.prototype.run = function (model) {\r\n                    throw new Error('Not implemented yet...');\r\n                };\r\n                return State;\r\n            }());\r\n            States.State = State;\r\n        })(States = StateMachine.States || (StateMachine.States = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var States;\r\n        (function (States) {\r\n            var TypesState;\r\n            (function (TypesState) {\r\n                var PatternState = (function (_super) {\r\n                    __extends(PatternState, _super);\r\n                    function PatternState(name, model, routeEngine, states) {\r\n                        if (routeEngine === void 0) { routeEngine = null; }\r\n                        if (states === void 0) { states = []; }\r\n                        _super.call(this, name, model, routeEngine);\r\n                        this._states = states;\r\n                    }\r\n                    PatternState.prototype.add = function (state) {\r\n                        this._states.push(state);\r\n                    };\r\n                    PatternState.prototype.run = function (model) {\r\n                        var state = this._states[0];\r\n                        while (state) {\r\n                            this._state = state;\r\n                            state.run(model);\r\n                        }\r\n                    };\r\n                    PatternState.prototype.getName = function () {\r\n                        if (!this._state) {\r\n                            throw new Error('Current state not initialized...');\r\n                        }\r\n                        return this._state.getName();\r\n                    };\r\n                    return PatternState;\r\n                }(States.State));\r\n                TypesState.PatternState = PatternState;\r\n            })(TypesState = States.TypesState || (States.TypesState = {}));\r\n        })(States = StateMachine.States || (StateMachine.States = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var States;\r\n        (function (States) {\r\n            var TypesState;\r\n            (function (TypesState) {\r\n                var PrimitiveState = (function (_super) {\r\n                    __extends(PrimitiveState, _super);\r\n                    function PrimitiveState(name, model, isEndPoint, routeEngine) {\r\n                        if (isEndPoint === void 0) { isEndPoint = false; }\r\n                        if (routeEngine === void 0) { routeEngine = null; }\r\n                        _super.call(this, name, model, routeEngine, isEndPoint);\r\n                    }\r\n                    PrimitiveState.prototype.run = function () {\r\n                        throw new Error('No implementation status...');\r\n                    };\r\n                    return PrimitiveState;\r\n                }(States.State));\r\n                TypesState.PrimitiveState = PrimitiveState;\r\n            })(TypesState = States.TypesState || (States.TypesState = {}));\r\n        })(States = StateMachine.States || (StateMachine.States = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var Routes;\r\n        (function (Routes) {\r\n            var Engines;\r\n            (function (Engines) {\r\n                var RouteEngine = (function () {\r\n                    function RouteEngine(routes, nextEngine) {\r\n                        if (routes === void 0) { routes = []; }\r\n                        if (nextEngine === void 0) { nextEngine = null; }\r\n                        this._routes = routes;\r\n                        this._nextEngine = nextEngine;\r\n                    }\r\n                    RouteEngine.prototype.add = function (routes) {\r\n                        (_a = this._routes).push.apply(_a, routes);\r\n                        var _a;\r\n                    };\r\n                    RouteEngine.prototype.getRoute = function () {\r\n                        throw new Error('Not implemented yet...');\r\n                    };\r\n                    RouteEngine.prototype.setNextEngine = function (engine) {\r\n                        this._nextEngine = engine;\r\n                    };\r\n                    RouteEngine.prototype.setModel = function (animal) {\r\n                        this._model = animal;\r\n                    };\r\n                    RouteEngine.prototype._nextRouteEngine = function () {\r\n                        if (this._nextEngine) {\r\n                            return this._nextEngine.getRoute();\r\n                        }\r\n                        return null;\r\n                    };\r\n                    return RouteEngine;\r\n                }());\r\n                Engines.RouteEngine = RouteEngine;\r\n            })(Engines = Routes.Engines || (Routes.Engines = {}));\r\n        })(Routes = StateMachine.Routes || (StateMachine.Routes = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var Routes;\r\n        (function (Routes) {\r\n            var Engines;\r\n            (function (Engines) {\r\n                var SimpleRouteEngine = (function (_super) {\r\n                    __extends(SimpleRouteEngine, _super);\r\n                    function SimpleRouteEngine(routes, nextEngine) {\r\n                        if (routes === void 0) { routes = []; }\r\n                        if (nextEngine === void 0) { nextEngine = null; }\r\n                        _super.call(this, routes, nextEngine);\r\n                    }\r\n                    SimpleRouteEngine.prototype.getRoute = function () {\r\n                        var _this = this;\r\n                        var routes = this._routes.filter(function (route) { return route.isAvailable(_this._model); });\r\n                        return routes.length > 0 ? routes[0] : this._nextRouteEngine();\r\n                    };\r\n                    return SimpleRouteEngine;\r\n                }(Engines.RouteEngine));\r\n                Engines.SimpleRouteEngine = SimpleRouteEngine;\r\n            })(Engines = Routes.Engines || (Routes.Engines = {}));\r\n        })(Routes = StateMachine.Routes || (StateMachine.Routes = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var Routes;\r\n        (function (Routes) {\r\n            var Engines;\r\n            (function (Engines) {\r\n                var ProbabilityRouteEngine = (function (_super) {\r\n                    __extends(ProbabilityRouteEngine, _super);\r\n                    function ProbabilityRouteEngine(routes, nextEngine) {\r\n                        if (routes === void 0) { routes = []; }\r\n                        if (nextEngine === void 0) { nextEngine = null; }\r\n                        _super.call(this, routes, nextEngine);\r\n                    }\r\n                    ProbabilityRouteEngine.prototype.getRoute = function () {\r\n                        var _this = this;\r\n                        var probability = Math.random();\r\n                        var routes = this._routes.filter(function (route) { return route.isAvailable(_this._model, probability); });\r\n                        return routes.length > 0 ? routes[0] : this._nextRouteEngine();\r\n                    };\r\n                    return ProbabilityRouteEngine;\r\n                }(Engines.RouteEngine));\r\n                Engines.ProbabilityRouteEngine = ProbabilityRouteEngine;\r\n            })(Engines = Routes.Engines || (Routes.Engines = {}));\r\n        })(Routes = StateMachine.Routes || (StateMachine.Routes = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var Routes;\r\n        (function (Routes) {\r\n            var Route = (function () {\r\n                function Route(state, availability) {\r\n                    this._state = state;\r\n                    this._availability = availability;\r\n                }\r\n                Route.prototype.isAvailable = function (model, probability) {\r\n                    if (probability === void 0) { probability = 1.0; }\r\n                    return (this._availability && this._availability(model, probability)) ? this._state : null;\r\n                };\r\n                Route.prototype.getState = function () {\r\n                    return this._state;\r\n                };\r\n                return Route;\r\n            }());\r\n            Routes.Route = Route;\r\n        })(Routes = StateMachine.Routes || (StateMachine.Routes = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var StatesLib;\r\n        (function (StatesLib) {\r\n            var StateDie = (function (_super) {\r\n                __extends(StateDie, _super);\r\n                function StateDie(name, model, isEndPoint, routeEngine) {\r\n                    if (isEndPoint === void 0) { isEndPoint = false; }\r\n                    if (routeEngine === void 0) { routeEngine = null; }\r\n                    _super.call(this, name, model, isEndPoint, routeEngine);\r\n                }\r\n                StateDie.prototype.run = function () {\r\n                    var resolveFn, rejectFn;\r\n                    var promise = new Promise(function (resolve, reject) {\r\n                        resolveFn = resolve;\r\n                        rejectFn = reject;\r\n                    });\r\n                    console.log('—É–º–µ—Ä');\r\n                    setTimeout(function () {\r\n                        resolveFn();\r\n                    }, 4000);\r\n                    return promise;\r\n                };\r\n                return StateDie;\r\n            }(Animals.StateMachine.States.TypesState.PrimitiveState));\r\n            StatesLib.StateDie = StateDie;\r\n        })(StatesLib = StateMachine.StatesLib || (StateMachine.StatesLib = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var StatesLib;\r\n        (function (StatesLib) {\r\n            var StateRun = (function (_super) {\r\n                __extends(StateRun, _super);\r\n                function StateRun(name, model, isEndPoint, routeEngine) {\r\n                    if (isEndPoint === void 0) { isEndPoint = false; }\r\n                    if (routeEngine === void 0) { routeEngine = null; }\r\n                    _super.call(this, name, model, isEndPoint, routeEngine);\r\n                }\r\n                StateRun.prototype.run = function () {\r\n                    var resolveFn, rejectFn;\r\n                    var promise = new Promise(function (resolve, reject) {\r\n                        resolveFn = resolve;\r\n                        rejectFn = reject;\r\n                    });\r\n                    console.log('–±–µ–≥—É');\r\n                    this._model.muscular.changeSpeed(-0.4);\r\n                    this._model.muscular.changeWeight(-0.5);\r\n                    setTimeout(function () {\r\n                        resolveFn();\r\n                    }, 4000);\r\n                    return promise;\r\n                };\r\n                return StateRun;\r\n            }(Animals.StateMachine.States.TypesState.PrimitiveState));\r\n            StatesLib.StateRun = StateRun;\r\n        })(StatesLib = StateMachine.StatesLib || (StateMachine.StatesLib = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var StatesLib;\r\n        (function (StatesLib) {\r\n            var StateStand = (function (_super) {\r\n                __extends(StateStand, _super);\r\n                function StateStand(name, model, isEndPoint, routeEngine) {\r\n                    if (isEndPoint === void 0) { isEndPoint = false; }\r\n                    if (routeEngine === void 0) { routeEngine = null; }\r\n                    _super.call(this, name, model, isEndPoint, routeEngine);\r\n                }\r\n                StateStand.prototype.run = function () {\r\n                    var resolveFn, rejectFn;\r\n                    var promise = new Promise(function (resolve, reject) {\r\n                        resolveFn = resolve;\r\n                        rejectFn = reject;\r\n                    });\r\n                    console.log('—Å—Ç–æ—é');\r\n                    this._model.muscular.changeSpeed(0.5);\r\n                    this._model.muscular.changeWeight(0.7);\r\n                    setTimeout(function () {\r\n                        resolveFn();\r\n                    }, 4000);\r\n                    return promise;\r\n                };\r\n                return StateStand;\r\n            }(Animals.StateMachine.States.TypesState.PrimitiveState));\r\n            StatesLib.StateStand = StateStand;\r\n        })(StatesLib = StateMachine.StatesLib || (StateMachine.StatesLib = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var StatesLib;\r\n        (function (StatesLib) {\r\n            var StateStart = (function (_super) {\r\n                __extends(StateStart, _super);\r\n                function StateStart(name, model, isEndPoint, routeEngine) {\r\n                    if (isEndPoint === void 0) { isEndPoint = false; }\r\n                    if (routeEngine === void 0) { routeEngine = null; }\r\n                    _super.call(this, name, model, isEndPoint, routeEngine);\r\n                }\r\n                StateStart.prototype.run = function () {\r\n                    var resolveFn, rejectFn;\r\n                    var promise = new Promise(function (resolve, reject) {\r\n                        resolveFn = resolve;\r\n                        rejectFn = reject;\r\n                    });\r\n                    console.log('–ù–∞—á–∞–ª –∂–∏—Ç—å');\r\n                    this._model.muscular.changeSpeed(0.001);\r\n                    this._model.muscular.changeWeight(0.001);\r\n                    setTimeout(function () { resolveFn(); }, 4000);\r\n                    return promise;\r\n                };\r\n                return StateStart;\r\n            }(Animals.StateMachine.States.TypesState.PrimitiveState));\r\n            StatesLib.StateStart = StateStart;\r\n        })(StatesLib = StateMachine.StatesLib || (StateMachine.StatesLib = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var FactoryState;\r\n        (function (FactoryState) {\r\n            var StateFactory = (function () {\r\n                function StateFactory() {\r\n                    this._factories = [];\r\n                    this._factories[FactoryState.TypesState.startLife] = Animals.StateMachine.StatesLib.StateStart;\r\n                    this._factories[FactoryState.TypesState.stand] = Animals.StateMachine.StatesLib.StateStand;\r\n                    this._factories[FactoryState.TypesState.run] = Animals.StateMachine.StatesLib.StateRun;\r\n                    this._factories[FactoryState.TypesState.die] = Animals.StateMachine.StatesLib.StateDie;\r\n                }\r\n                StateFactory.instance = function () {\r\n                    if (!this._instance) {\r\n                        this._instance = new StateFactory();\r\n                    }\r\n                    return this._instance;\r\n                };\r\n                StateFactory.prototype.add = function (type, state) {\r\n                    this._factories[type] = state;\r\n                };\r\n                StateFactory.prototype.create = function (typeState, name, animal, isEnd) {\r\n                    return new this._factories[typeState](name, animal, isEnd, null);\r\n                };\r\n                return StateFactory;\r\n            }());\r\n            FactoryState.StateFactory = StateFactory;\r\n        })(FactoryState = StateMachine.FactoryState || (StateMachine.FactoryState = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var StateMachine;\r\n    (function (StateMachine) {\r\n        var FactoryState;\r\n        (function (FactoryState) {\r\n            (function (TypesState) {\r\n                TypesState[TypesState[\"startLife\"] = 1] = \"startLife\";\r\n                TypesState[TypesState[\"stand\"] = 2] = \"stand\";\r\n                TypesState[TypesState[\"run\"] = 3] = \"run\";\r\n                TypesState[TypesState[\"die\"] = 4] = \"die\";\r\n            })(FactoryState.TypesState || (FactoryState.TypesState = {}));\r\n            var TypesState = FactoryState.TypesState;\r\n        })(FactoryState = StateMachine.FactoryState || (StateMachine.FactoryState = {}));\r\n    })(StateMachine = Animals.StateMachine || (Animals.StateMachine = {}));\r\n})(Animals || (Animals = {}));\r\nvar lion = {\r\n    name: '–õ–µ–≤',\r\n    systems: [\r\n        {\r\n            type: Animals.Systems.SystemTypes.muscular,\r\n            scalesType: [\r\n                { type: Animals.Scales.ParameterScaleTypes.speed },\r\n                { type: Animals.Scales.ParameterScaleTypes.speed },\r\n                { type: Animals.Scales.ParameterScaleTypes.weight }\r\n            ],\r\n        },\r\n        {\r\n            type: Animals.Systems.SystemTypes.circulatory,\r\n            scalesType: [\r\n                { type: Animals.Scales.ParameterScaleTypes.pressure },\r\n                { type: Animals.Scales.ParameterScaleTypes.heartbeat }\r\n            ],\r\n        },\r\n        {\r\n            type: Animals.Systems.SystemTypes.navigation,\r\n            scalesType: [\r\n                { type: Animals.Scales.ParameterScaleTypes.speedSavvy },\r\n                { type: Animals.Scales.ParameterScaleTypes.radiusVision },\r\n                { type: Animals.Scales.ParameterScaleTypes.radiusSmell },\r\n                { type: Animals.Scales.ParameterScaleTypes.radiusHearing },\r\n                { type: Animals.Scales.ParameterScaleTypes.radiusTouch },\r\n            ],\r\n        }\r\n    ],\r\n    scales: [\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.heartbeat,\r\n            params: {\r\n                name: '–°–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ',\r\n                current: 9,\r\n                min: 0,\r\n                max: 100,\r\n                responseDelay: 0.12,\r\n            }\r\n        },\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.pressure,\r\n            params: {\r\n                name: '–î–∞–≤–ª–µ–Ω–∏–µ',\r\n                current: 8,\r\n                min: 0,\r\n                max: 10,\r\n                responseDelay: 0.13\r\n            }\r\n        },\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.speed,\r\n            params: {\r\n                name: '–°–∫–æ—Ä–æ—Å—Ç—å',\r\n                current: 9,\r\n                min: 0,\r\n                max: 100,\r\n                responseDelay: 0.12,\r\n            }\r\n        },\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.weight,\r\n            params: {\r\n                name: '–í–µ—Å',\r\n                current: 8,\r\n                min: 0,\r\n                max: 10,\r\n                responseDelay: 0.1\r\n            }\r\n        },\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.speedSavvy,\r\n            params: {\r\n                name: '–í—Ä–µ–º—è —Å–º–µ–∫–∞–ª–∫–∏',\r\n                current: 8,\r\n                min: 0,\r\n                max: 10,\r\n                responseDelay: 0.1\r\n            }\r\n        },\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.radiusTouch,\r\n            params: {\r\n                name: '–†–∞–¥–∏—É—Å –æ—Å—è–∑–∞–Ω–∏—è',\r\n                current: 9,\r\n                min: 0,\r\n                max: 10,\r\n                responseDelay: 0.1\r\n            }\r\n        },\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.radiusVision,\r\n            params: {\r\n                name: '–†–∞–¥–∏—É—Å –∑—Ä–µ–Ω–∏—è',\r\n                current: 40,\r\n                min: 0,\r\n                max: 80,\r\n                responseDelay: 0.1\r\n            }\r\n        },\r\n    ],\r\n    communication: [\r\n        {\r\n            type: Animals.Scales.ParameterScaleTypes.speed,\r\n            link: [\r\n                {\r\n                    type: Animals.Scales.ParameterScaleTypes.weight,\r\n                    behavior: Animals.Communications.BehaviorScaleTypes.increase,\r\n                    functions: Animals.Functions.FunctionTypes.line,\r\n                    params: [\r\n                        0.5,\r\n                        0.18\r\n                    ]\r\n                }\r\n            ],\r\n        },\r\n        {\r\n            type: Animals.Scales.ParameterScaleTypes.weight,\r\n            link: [\r\n                {\r\n                    type: Animals.Scales.ParameterScaleTypes.speed,\r\n                    behavior: Animals.Communications.BehaviorScaleTypes.decrease,\r\n                    functions: Animals.Functions.FunctionTypes.line,\r\n                    params: [\r\n                        0.5,\r\n                        0.1\r\n                    ]\r\n                }\r\n            ],\r\n        }\r\n    ],\r\n    states: {\r\n        state: [\r\n            {\r\n                name: '–°—Ç–∞—Ä—Ç',\r\n                type: Animals.StateMachine.FactoryState.TypesState.startLife,\r\n                isEnd: false\r\n            },\r\n            {\r\n                name: '–ë–µ–≥—É',\r\n                type: Animals.StateMachine.FactoryState.TypesState.run,\r\n                isEnd: false\r\n            },\r\n            {\r\n                name: '–°—Ç–æ—é',\r\n                type: Animals.StateMachine.FactoryState.TypesState.stand,\r\n                isEnd: false\r\n            },\r\n            {\r\n                name: '–£–º–µ—Ä',\r\n                type: Animals.StateMachine.FactoryState.TypesState.die,\r\n                isEnd: true\r\n            }\r\n        ],\r\n        links: [\r\n            {\r\n                type: Animals.StateMachine.FactoryState.TypesState.startLife,\r\n                link: [\r\n                    {\r\n                        type: Animals.StateMachine.FactoryState.TypesState.run,\r\n                        probability: 0.7\r\n                    },\r\n                    {\r\n                        type: Animals.StateMachine.FactoryState.TypesState.stand,\r\n                        probability: 0.7\r\n                    },\r\n                    {\r\n                        type: Animals.StateMachine.FactoryState.TypesState.die,\r\n                        probability: 0.01\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                type: Animals.StateMachine.FactoryState.TypesState.stand,\r\n                link: [\r\n                    {\r\n                        type: Animals.StateMachine.FactoryState.TypesState.run,\r\n                        probability: 0.7\r\n                    },\r\n                    {\r\n                        type: Animals.StateMachine.FactoryState.TypesState.die,\r\n                        probability: 0.01\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                type: Animals.StateMachine.FactoryState.TypesState.run,\r\n                link: [\r\n                    {\r\n                        type: Animals.StateMachine.FactoryState.TypesState.die,\r\n                        probability: 0.6\r\n                    },\r\n                    {\r\n                        type: Animals.StateMachine.FactoryState.TypesState.stand,\r\n                        probability: 0.9\r\n                    },\r\n                    {\r\n                        type: Animals.StateMachine.FactoryState.TypesState.run,\r\n                        probability: 0.1\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n};\r\n//# sourceMappingURL=build-ts.js.map"
  ]
}