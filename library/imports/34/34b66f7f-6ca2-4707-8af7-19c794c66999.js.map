{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "__extends",
    "d",
    "b",
    "p",
    "hasOwnProperty",
    "__",
    "constructor",
    "prototype",
    "Object",
    "create",
    "Animals",
    "AnimalBuilder",
    "instance",
    "inst",
    "createSystems",
    "systems",
    "_this",
    "factory",
    "Systems",
    "Factories",
    "SystemFactory",
    "mas",
    "forEach",
    "item",
    "scalesType",
    "sc",
    "type",
    "masScales",
    "masSystems",
    "createScales",
    "scales",
    "Scales",
    "ScaleFactory",
    "typeScale",
    "params",
    "createCommunicator",
    "communocation",
    "communicatorBuild",
    "Communications",
    "Builders",
    "CommunicatorBuilder",
    "add",
    "build",
    "model",
    "communication",
    "communicator",
    "animal",
    "Animal",
    "muscular",
    "SystemTypes",
    "circulatory",
    "navigation",
    "defineProperty",
    "set",
    "param",
    "_muscular",
    "enumerable",
    "configurable",
    "_circulatory",
    "_navigation",
    "_communicator",
    "get",
    "_id",
    "moveToPoint",
    "point",
    "getCharacteristics",
    "name",
    "currentState",
    "value",
    "unit",
    "_scales",
    "Communicator",
    "_factoryFunction",
    "Functions",
    "FunctionFactory",
    "link",
    "behavior",
    "functions",
    "scale",
    "fun",
    "_createFunction",
    "addLink",
    "_netLinks",
    "_sensitivity",
    "setting",
    "sensitivity",
    "event",
    "push",
    "publish",
    "pack",
    "links",
    "delta",
    "calculate",
    "Math",
    "abs",
    "change",
    "BehaviorScaleTypes",
    "_factories",
    "FunctionTypes",
    "line",
    "LineFunction",
    "quadratic",
    "QuadraticFunction",
    "_instance",
    "system",
    "functionType",
    "_coefficient",
    "_free",
    "_coefficientA",
    "_coefficientB",
    "pow",
    "AScale",
    "_name",
    "_min",
    "getPercentageInScale",
    "_max",
    "_current",
    "_percent",
    "getCurrentValueOnScale",
    "_type",
    "ScaleTypes",
    "TypeScales",
    "SystemScale",
    "argument",
    "ArgumentScale",
    "ParameterScaleTypes",
    "_super",
    "call",
    "min",
    "max",
    "current",
    "_responseDelay",
    "responseDelay",
    "trigger",
    "sign",
    "increase",
    "decrease",
    "rez",
    "percent",
    "setTimeout",
    "analysis",
    "length",
    "TypeSystems",
    "Muscular",
    "Circulatory",
    "Navigation",
    "state",
    "heartbeat",
    "pressure",
    "_heartbeat",
    "_pressure",
    "changeHeartbeat",
    "changePressure",
    "speed",
    "weight",
    "_speed",
    "_weight",
    "changeSpeed",
    "changeWeight",
    "speedSavvy",
    "radiusHearing",
    "radiusSmell",
    "radiusVision",
    "radiusTouch",
    "_speedSavvy",
    "_radiusVision",
    "_radiusHearing",
    "_radiusSmell",
    "_radiusTouch",
    "changeSpeedSavvy",
    "changeRadiusVision",
    "changeRadiusHearing",
    "changeRadiusSmell",
    "changeRadiusTouch",
    "lion",
    "APICore",
    "createAnimal",
    "putToModel",
    "id",
    "Map",
    "Map_1",
    "_inst",
    "_world",
    "map",
    "_initializationWorld",
    "Error",
    "layer",
    "_obstaclesLayer",
    "_waterLayer",
    "_treeLayer",
    "_initializationLayer",
    "_sizeMapTiled",
    "getMapSize",
    "_sizeTiled",
    "getTileSize",
    "_sizeMapPixel",
    "_getSizeMapPixel",
    "obstaclesLayer",
    "getLayer",
    "waterLayer",
    "treeLayer",
    "sizeX",
    "width",
    "sizeY",
    "height",
    "cc",
    "v2",
    "convertTiledPos",
    "posInPixel",
    "x",
    "floor",
    "y",
    "convertPixelPos",
    "posInTiled",
    "isCheсkObstacle",
    "gid",
    "_isCorrectPos",
    "getTileGIDAt",
    "pos"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Animals;\r\n(function (Animals) {\r\n    var AnimalBuilder = (function () {\r\n        function AnimalBuilder() {\r\n        }\r\n        AnimalBuilder.instance = function () {\r\n            if (!this.inst) {\r\n                this.inst = new AnimalBuilder();\r\n            }\r\n            return this.inst;\r\n        };\r\n        AnimalBuilder.prototype.createSystems = function (systems) {\r\n            var _this = this;\r\n            var factory = Animals.Systems.Factories.SystemFactory.instance();\r\n            var mas = [];\r\n            systems.forEach(function (item) {\r\n                mas = [];\r\n                item.scalesType.forEach(function (sc) {\r\n                    mas[sc.type] = _this.masScales[sc.type];\r\n                });\r\n                _this.masSystems[item.type] = factory.create(item.type, mas);\r\n            });\r\n            return this;\r\n        };\r\n        AnimalBuilder.prototype.createScales = function (scales) {\r\n            var _this = this;\r\n            var factory = Animals.Scales.Factories.ScaleFactory.instance();\r\n            scales.forEach(function (item) {\r\n                var typeScale = item.typeScale, type = item.type, params = item.params;\r\n                params.type = type;\r\n                _this.masScales[type] = factory.create(typeScale, params);\r\n            });\r\n            return this;\r\n        };\r\n        AnimalBuilder.prototype.createCommunicator = function (communocation) {\r\n            var communicatorBuild = new Animals.Communications.Builders.CommunicatorBuilder(this.masScales);\r\n            communocation.forEach(function (item) {\r\n                communicatorBuild.add(item);\r\n            });\r\n            return communicatorBuild.build();\r\n        };\r\n        AnimalBuilder.prototype.create = function (model) {\r\n            var systems = model.systems, scales = model.scales, communication = model.communication;\r\n            this.masScales = [];\r\n            this.masSystems = [];\r\n            var communicator = this.createScales(scales).createSystems(systems).createCommunicator(communication);\r\n            var animal = new Animals.Animal(this.masSystems);\r\n            animal.communicator = communicator;\r\n            return animal;\r\n        };\r\n        return AnimalBuilder;\r\n    }());\r\n    Animals.AnimalBuilder = AnimalBuilder;\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Animal = (function () {\r\n        function Animal(params) {\r\n            this.muscular = params[Animals.Systems.SystemTypes.muscular];\r\n            this.circulatory = params[Animals.Systems.SystemTypes.circulatory];\r\n            this.navigation = params[Animals.Systems.SystemTypes.navigation];\r\n        }\r\n        Object.defineProperty(Animal.prototype, \"muscular\", {\r\n            set: function (param) {\r\n                if (param) {\r\n                    this._muscular = param;\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Animal.prototype, \"circulatory\", {\r\n            set: function (param) {\r\n                if (param) {\r\n                    this._circulatory = param;\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Animal.prototype, \"navigation\", {\r\n            set: function (param) {\r\n                if (param) {\r\n                    this._navigation = param;\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Animal.prototype, \"communicator\", {\r\n            set: function (param) {\r\n                this._communicator = param;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Animal.prototype, \"id\", {\r\n            get: function () {\r\n                return this._id;\r\n            },\r\n            set: function (param) {\r\n                this._id = param;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Animal.prototype.moveToPoint = function (point) {\r\n        };\r\n        Animal.prototype.getCharacteristics = function () {\r\n            return {\r\n                name: 'Животное',\r\n                currentState: 'Бегу',\r\n                param: [\r\n                    {\r\n                        name: 'Скорость',\r\n                        value: 89,\r\n                        unit: 'м/с',\r\n                    },\r\n                    {\r\n                        name: 'Возраст',\r\n                        value: 12,\r\n                        unit: 'лет',\r\n                    },\r\n                    {\r\n                        name: 'Вес',\r\n                        value: 12,\r\n                        unit: 'кг',\r\n                    },\r\n                    {\r\n                        name: 'Выносливость',\r\n                        value: 12,\r\n                        unit: 'ед.',\r\n                    },\r\n                    {\r\n                        name: 'Система кровообращения',\r\n                        value: 89,\r\n                        unit: '%',\r\n                    },\r\n                    {\r\n                        name: 'Система памяти',\r\n                        value: 59,\r\n                        unit: '%',\r\n                    },\r\n                    {\r\n                        name: 'Система дыхания',\r\n                        value: 89,\r\n                        unit: '%',\r\n                    }\r\n                ],\r\n            };\r\n        };\r\n        return Animal;\r\n    }());\r\n    Animals.Animal = Animal;\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Communications;\r\n    (function (Communications) {\r\n        var Builders;\r\n        (function (Builders) {\r\n            var CommunicatorBuilder = (function () {\r\n                function CommunicatorBuilder(scales) {\r\n                    this._scales = scales;\r\n                    this._communicator = new Communications.Communicator();\r\n                    this._factoryFunction = Animals.Functions.Factories.FunctionFactory.instance();\r\n                }\r\n                CommunicatorBuilder.prototype.add = function (param) {\r\n                    var _this = this;\r\n                    param.link.forEach(function (communication) {\r\n                        var type = communication.type, behavior = communication.behavior, functions = communication.functions, params = communication.params;\r\n                        var scale = _this._scales[type];\r\n                        var fun = _this._createFunction(functions, params);\r\n                        _this._communicator.addLink(param.type, { scale: scale, behavior: behavior, fun: fun });\r\n                        scale.communicator = _this._communicator;\r\n                    });\r\n                    return this;\r\n                };\r\n                CommunicatorBuilder.prototype.build = function () {\r\n                    return this._communicator;\r\n                };\r\n                CommunicatorBuilder.prototype._createFunction = function (type, params) {\r\n                    return this._factoryFunction.create(type, params);\r\n                };\r\n                return CommunicatorBuilder;\r\n            }());\r\n            Builders.CommunicatorBuilder = CommunicatorBuilder;\r\n        })(Builders = Communications.Builders || (Communications.Builders = {}));\r\n    })(Communications = Animals.Communications || (Animals.Communications = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Communications;\r\n    (function (Communications) {\r\n        var Communicator = (function () {\r\n            function Communicator() {\r\n                this._netLinks = [];\r\n                this._sensitivity = 0.1;\r\n            }\r\n            Object.defineProperty(Communicator.prototype, \"sensitivity\", {\r\n                get: function () {\r\n                    return this._sensitivity;\r\n                },\r\n                set: function (param) {\r\n                    this._sensitivity = param ? param : 0.1;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Communicator.prototype.setting = function (params) {\r\n                this.sensitivity = params.sensitivity || 0.1;\r\n            };\r\n            Communicator.prototype.addLink = function (event, link) {\r\n                if (this._netLinks[event]) {\r\n                    this._netLinks[event].push(link);\r\n                }\r\n                else {\r\n                    this._netLinks[event] = [link];\r\n                }\r\n            };\r\n            Communicator.prototype.publish = function (pack, param) {\r\n                var _this = this;\r\n                var links = this._netLinks[pack.type];\r\n                if (links) {\r\n                    links.forEach(function (link) {\r\n                        var delta = link.fun.calculate(param);\r\n                        if (Math.abs(delta) > _this._sensitivity) {\r\n                            delta = pack.behavior === link.behavior ? delta : -delta;\r\n                            link.scale.change(delta);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n            return Communicator;\r\n        }());\r\n        Communications.Communicator = Communicator;\r\n    })(Communications = Animals.Communications || (Animals.Communications = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Communications;\r\n    (function (Communications) {\r\n        (function (BehaviorScaleTypes) {\r\n            BehaviorScaleTypes[BehaviorScaleTypes[\"increase\"] = 1] = \"increase\";\r\n            BehaviorScaleTypes[BehaviorScaleTypes[\"decrease\"] = 2] = \"decrease\";\r\n        })(Communications.BehaviorScaleTypes || (Communications.BehaviorScaleTypes = {}));\r\n        var BehaviorScaleTypes = Communications.BehaviorScaleTypes;\r\n    })(Communications = Animals.Communications || (Animals.Communications = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Functions;\r\n    (function (Functions) {\r\n        var Factories;\r\n        (function (Factories) {\r\n            var FunctionFactory = (function () {\r\n                function FunctionFactory() {\r\n                    this._factories = [];\r\n                    this._factories[Functions.FunctionTypes.line] = Functions.LineFunction;\r\n                    this._factories[Functions.FunctionTypes.quadratic] = Functions.QuadraticFunction;\r\n                }\r\n                FunctionFactory.instance = function () {\r\n                    if (!this._instance) {\r\n                        this._instance = new FunctionFactory();\r\n                    }\r\n                    return this._instance;\r\n                };\r\n                FunctionFactory.prototype.add = function (type, system) {\r\n                    this._factories[type] = system;\r\n                };\r\n                FunctionFactory.prototype.create = function (functionType, params) {\r\n                    return new this._factories[functionType](params);\r\n                };\r\n                return FunctionFactory;\r\n            }());\r\n            Factories.FunctionFactory = FunctionFactory;\r\n        })(Factories = Functions.Factories || (Functions.Factories = {}));\r\n    })(Functions = Animals.Functions || (Animals.Functions = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Functions;\r\n    (function (Functions) {\r\n        (function (FunctionTypes) {\r\n            FunctionTypes[FunctionTypes[\"line\"] = 1] = \"line\";\r\n            FunctionTypes[FunctionTypes[\"quadratic\"] = 2] = \"quadratic\";\r\n        })(Functions.FunctionTypes || (Functions.FunctionTypes = {}));\r\n        var FunctionTypes = Functions.FunctionTypes;\r\n    })(Functions = Animals.Functions || (Animals.Functions = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Functions;\r\n    (function (Functions) {\r\n        var LineFunction = (function () {\r\n            function LineFunction(params) {\r\n                this._coefficient = params[0] || 0;\r\n                this._free = params[1] || 0;\r\n            }\r\n            Object.defineProperty(LineFunction.prototype, \"coefficient\", {\r\n                get: function () {\r\n                    return this._coefficient;\r\n                },\r\n                set: function (param) {\r\n                    this._coefficient = param ? param : 0;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(LineFunction.prototype, \"free\", {\r\n                get: function () {\r\n                    return this._free;\r\n                },\r\n                set: function (param) {\r\n                    this._free = param ? param : 0;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            LineFunction.prototype.calculate = function (param) {\r\n                return this._coefficient * param + this._free;\r\n            };\r\n            return LineFunction;\r\n        }());\r\n        Functions.LineFunction = LineFunction;\r\n    })(Functions = Animals.Functions || (Animals.Functions = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Functions;\r\n    (function (Functions) {\r\n        var QuadraticFunction = (function () {\r\n            function QuadraticFunction(params) {\r\n                this._coefficientA = params[0] || 0;\r\n                this._coefficientB = params[1] || 0;\r\n                this._free = params[2] || 0;\r\n            }\r\n            Object.defineProperty(QuadraticFunction.prototype, \"coefficientA\", {\r\n                get: function () {\r\n                    return this._coefficientA;\r\n                },\r\n                set: function (param) {\r\n                    this._coefficientA = param ? param : 0;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(QuadraticFunction.prototype, \"coefficientB\", {\r\n                get: function () {\r\n                    return this._coefficientB;\r\n                },\r\n                set: function (param) {\r\n                    this._coefficientB = param ? param : 0;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(QuadraticFunction.prototype, \"free\", {\r\n                get: function () {\r\n                    return this._free;\r\n                },\r\n                set: function (param) {\r\n                    this._free = param ? param : 0;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            QuadraticFunction.prototype.calculate = function (param) {\r\n                return this._coefficientA * (Math.pow(param, 2)) + this._coefficientB * param + this._free;\r\n            };\r\n            return QuadraticFunction;\r\n        }());\r\n        Functions.QuadraticFunction = QuadraticFunction;\r\n    })(Functions = Animals.Functions || (Animals.Functions = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        var AScale = (function () {\r\n            function AScale() {\r\n            }\r\n            Object.defineProperty(AScale.prototype, \"name\", {\r\n                get: function () {\r\n                    return this._name;\r\n                },\r\n                set: function (param) {\r\n                    this._name = param;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(AScale.prototype, \"min\", {\r\n                get: function () {\r\n                    return this._min;\r\n                },\r\n                set: function (param) {\r\n                    this._min = param;\r\n                    this.getPercentageInScale();\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(AScale.prototype, \"max\", {\r\n                get: function () {\r\n                    return this._max;\r\n                },\r\n                set: function (param) {\r\n                    this._max = param;\r\n                    this.getPercentageInScale();\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(AScale.prototype, \"current\", {\r\n                get: function () {\r\n                    return this._current;\r\n                },\r\n                set: function (param) {\r\n                    this._current = param;\r\n                    this.getPercentageInScale();\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(AScale.prototype, \"percent\", {\r\n                get: function () {\r\n                    return this._percent;\r\n                },\r\n                set: function (param) {\r\n                    this._percent = param;\r\n                    this.getCurrentValueOnScale();\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Object.defineProperty(AScale.prototype, \"type\", {\r\n                get: function () {\r\n                    return this._type;\r\n                },\r\n                set: function (param) {\r\n                    this._type = param;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            AScale.prototype.getPercentageInScale = function () {\r\n                this._percent = ((this._current - this._min) * 100) / (this._max - this._min);\r\n            };\r\n            AScale.prototype.getCurrentValueOnScale = function () {\r\n                this._current = (((this._max - this._min) / 100) * this._percent) + this._min;\r\n            };\r\n            return AScale;\r\n        }());\r\n        Scales.AScale = AScale;\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        var Factories;\r\n        (function (Factories) {\r\n            var ScaleFactory = (function () {\r\n                function ScaleFactory() {\r\n                    this._factories = [];\r\n                    this._factories[Scales.ScaleTypes.system] = Animals.Scales.TypeScales.SystemScale;\r\n                    this._factories[Scales.ScaleTypes.argument] = Animals.Scales.TypeScales.ArgumentScale;\r\n                }\r\n                ScaleFactory.instance = function () {\r\n                    if (!this._instance) {\r\n                        this._instance = new ScaleFactory();\r\n                    }\r\n                    return this._instance;\r\n                };\r\n                ScaleFactory.prototype.add = function (type, system) {\r\n                    this._factories[type] = system;\r\n                };\r\n                ScaleFactory.prototype.create = function (functionType, params) {\r\n                    return new this._factories[functionType](params);\r\n                };\r\n                return ScaleFactory;\r\n            }());\r\n            Factories.ScaleFactory = ScaleFactory;\r\n        })(Factories = Scales.Factories || (Scales.Factories = {}));\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        (function (ParameterScaleTypes) {\r\n            ParameterScaleTypes[ParameterScaleTypes[\"state\"] = 1] = \"state\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"speed\"] = 2] = \"speed\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"weight\"] = 3] = \"weight\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"heartbeat\"] = 4] = \"heartbeat\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"pressure\"] = 5] = \"pressure\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"amountPointRememberWater\"] = 6] = \"amountPointRememberWater\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"amountPointRememberGrass\"] = 7] = \"amountPointRememberGrass\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"amountPointRememberMeat\"] = 8] = \"amountPointRememberMeat\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"speedSavvy\"] = 9] = \"speedSavvy\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"radiusVision\"] = 10] = \"radiusVision\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"radiusHearing\"] = 11] = \"radiusHearing\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"radiusSmell\"] = 12] = \"radiusSmell\";\r\n            ParameterScaleTypes[ParameterScaleTypes[\"radiusTouch\"] = 13] = \"radiusTouch\";\r\n        })(Scales.ParameterScaleTypes || (Scales.ParameterScaleTypes = {}));\r\n        var ParameterScaleTypes = Scales.ParameterScaleTypes;\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        (function (ScaleTypes) {\r\n            ScaleTypes[ScaleTypes[\"system\"] = 0] = \"system\";\r\n            ScaleTypes[ScaleTypes[\"argument\"] = 1] = \"argument\";\r\n        })(Scales.ScaleTypes || (Scales.ScaleTypes = {}));\r\n        var ScaleTypes = Scales.ScaleTypes;\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        var TypeScales;\r\n        (function (TypeScales) {\r\n            var ArgumentScale = (function (_super) {\r\n                __extends(ArgumentScale, _super);\r\n                function ArgumentScale(params) {\r\n                    _super.call(this);\r\n                    this._name = params.name || \"No name\";\r\n                    this._min = params.min || 0;\r\n                    this._max = params.max || 100;\r\n                    this._current = params.current || this._max;\r\n                    this._responseDelay = params.responseDelay || 1000;\r\n                    this._type = params.type || 0;\r\n                    this.getPercentageInScale();\r\n                }\r\n                Object.defineProperty(ArgumentScale.prototype, \"responseDelay\", {\r\n                    get: function () {\r\n                        return this._responseDelay;\r\n                    },\r\n                    set: function (param) {\r\n                        this._responseDelay = param ? param : 1000;\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(ArgumentScale.prototype, \"communicator\", {\r\n                    get: function () {\r\n                        return this._communicator;\r\n                    },\r\n                    set: function (param) {\r\n                        this._communicator = param;\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                ArgumentScale.prototype.trigger = function (params) {\r\n                    var event = Math.sign(params) ? Animals.Communications.BehaviorScaleTypes.increase : Animals.Communications.BehaviorScaleTypes.decrease;\r\n                    var pack = {\r\n                        behavior: event,\r\n                        type: this._type\r\n                    };\r\n                    this.communicator.publish(pack, params);\r\n                };\r\n                ArgumentScale.prototype.change = function (delta) {\r\n                    var _this = this;\r\n                    var rez = this.percent + delta;\r\n                    if (rez <= 100 && rez >= 0) {\r\n                        this.percent = rez;\r\n                        this.getCurrentValueOnScale();\r\n                    }\r\n                    setTimeout(function () {\r\n                        _this.trigger(delta);\r\n                    }, this.responseDelay);\r\n                };\r\n                return ArgumentScale;\r\n            }(Scales.AScale));\r\n            TypeScales.ArgumentScale = ArgumentScale;\r\n        })(TypeScales = Scales.TypeScales || (Scales.TypeScales = {}));\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Scales;\r\n    (function (Scales) {\r\n        var TypeScales;\r\n        (function (TypeScales) {\r\n            var SystemScale = (function (_super) {\r\n                __extends(SystemScale, _super);\r\n                function SystemScale(params) {\r\n                    _super.call(this);\r\n                    this._name = params.name || \"No name\";\r\n                    this._min = params.min || 0;\r\n                    this._max = params.max || 100;\r\n                    this._current = params.current || this._max;\r\n                    this._type = params.type || 0;\r\n                    this.getPercentageInScale();\r\n                }\r\n                SystemScale.prototype.analysis = function (params) {\r\n                    var rez = 0;\r\n                    params.forEach(function (param) {\r\n                        rez += param.percent;\r\n                    });\r\n                    this.percent = rez / params.length;\r\n                    this.getCurrentValueOnScale();\r\n                };\r\n                return SystemScale;\r\n            }(Scales.AScale));\r\n            TypeScales.SystemScale = SystemScale;\r\n        })(TypeScales = Scales.TypeScales || (Scales.TypeScales = {}));\r\n    })(Scales = Animals.Scales || (Animals.Scales = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Systems;\r\n    (function (Systems) {\r\n        var Factories;\r\n        (function (Factories) {\r\n            var SystemFactory = (function () {\r\n                function SystemFactory() {\r\n                    this._factories = [];\r\n                    this._factories[Systems.SystemTypes.muscular] = Animals.Systems.TypeSystems.Muscular;\r\n                    this._factories[Systems.SystemTypes.circulatory] = Animals.Systems.TypeSystems.Circulatory;\r\n                    this._factories[Systems.SystemTypes.navigation] = Animals.Systems.TypeSystems.Navigation;\r\n                }\r\n                SystemFactory.instance = function () {\r\n                    if (!this._instance) {\r\n                        this._instance = new SystemFactory();\r\n                    }\r\n                    return this._instance;\r\n                };\r\n                SystemFactory.prototype.add = function (type, system) {\r\n                    this._factories[type] = system;\r\n                };\r\n                SystemFactory.prototype.create = function (functionType, params) {\r\n                    return new this._factories[functionType](params);\r\n                };\r\n                return SystemFactory;\r\n            }());\r\n            Factories.SystemFactory = SystemFactory;\r\n        })(Factories = Systems.Factories || (Systems.Factories = {}));\r\n    })(Systems = Animals.Systems || (Animals.Systems = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Systems;\r\n    (function (Systems) {\r\n        (function (SystemTypes) {\r\n            SystemTypes[SystemTypes[\"muscular\"] = 1] = \"muscular\";\r\n            SystemTypes[SystemTypes[\"circulatory\"] = 2] = \"circulatory\";\r\n            SystemTypes[SystemTypes[\"memory\"] = 3] = \"memory\";\r\n            SystemTypes[SystemTypes[\"navigation\"] = 4] = \"navigation\";\r\n        })(Systems.SystemTypes || (Systems.SystemTypes = {}));\r\n        var SystemTypes = Systems.SystemTypes;\r\n    })(Systems = Animals.Systems || (Animals.Systems = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Systems;\r\n    (function (Systems) {\r\n        var TypeSystems;\r\n        (function (TypeSystems) {\r\n            var Circulatory = (function () {\r\n                function Circulatory(scales) {\r\n                    this.state = scales[Animals.Scales.ParameterScaleTypes.state] || new Animals.Scales.TypeScales.SystemScale([]);\r\n                    ;\r\n                    this.heartbeat = scales[Animals.Scales.ParameterScaleTypes.heartbeat];\r\n                    this.pressure = scales[Animals.Scales.ParameterScaleTypes.pressure];\r\n                }\r\n                Object.defineProperty(Circulatory.prototype, \"heartbeat\", {\r\n                    get: function () {\r\n                        return this._heartbeat;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._heartbeat = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Circulatory.prototype, \"pressure\", {\r\n                    get: function () {\r\n                        return this._pressure;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._pressure = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Circulatory.prototype.changeHeartbeat = function (delta) {\r\n                    this._heartbeat.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Circulatory.prototype.changePressure = function (delta) {\r\n                    this._pressure.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Circulatory.prototype.analysis = function () {\r\n                    this.state.analysis([]);\r\n                };\r\n                return Circulatory;\r\n            }());\r\n            TypeSystems.Circulatory = Circulatory;\r\n        })(TypeSystems = Systems.TypeSystems || (Systems.TypeSystems = {}));\r\n    })(Systems = Animals.Systems || (Animals.Systems = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Systems;\r\n    (function (Systems) {\r\n        var TypeSystems;\r\n        (function (TypeSystems) {\r\n            var Muscular = (function () {\r\n                function Muscular(scales) {\r\n                    this.state = scales[Animals.Scales.ParameterScaleTypes.state] || new Animals.Scales.TypeScales.SystemScale([]);\r\n                    this.speed = scales[Animals.Scales.ParameterScaleTypes.speed];\r\n                    this.weight = scales[Animals.Scales.ParameterScaleTypes.weight];\r\n                }\r\n                Object.defineProperty(Muscular.prototype, \"speed\", {\r\n                    get: function () {\r\n                        return this._speed;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._speed = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Muscular.prototype, \"weight\", {\r\n                    get: function () {\r\n                        return this._weight;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._weight = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Muscular.prototype.changeSpeed = function (delta) {\r\n                    this._speed.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Muscular.prototype.changeWeight = function (delta) {\r\n                    this._weight.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Muscular.prototype.analysis = function () {\r\n                    this.state.analysis([]);\r\n                };\r\n                return Muscular;\r\n            }());\r\n            TypeSystems.Muscular = Muscular;\r\n        })(TypeSystems = Systems.TypeSystems || (Systems.TypeSystems = {}));\r\n    })(Systems = Animals.Systems || (Animals.Systems = {}));\r\n})(Animals || (Animals = {}));\r\nvar Animals;\r\n(function (Animals) {\r\n    var Systems;\r\n    (function (Systems) {\r\n        var TypeSystems;\r\n        (function (TypeSystems) {\r\n            var Navigation = (function () {\r\n                function Navigation(scales) {\r\n                    this.state = scales[Animals.Scales.ParameterScaleTypes.state] || new Animals.Scales.TypeScales.SystemScale([]);\r\n                    this.speedSavvy = scales[Animals.Scales.ParameterScaleTypes.speedSavvy];\r\n                    this.radiusHearing = scales[Animals.Scales.ParameterScaleTypes.radiusHearing];\r\n                    this.radiusSmell = scales[Animals.Scales.ParameterScaleTypes.radiusSmell];\r\n                    this.radiusVision = scales[Animals.Scales.ParameterScaleTypes.radiusVision];\r\n                    this.radiusTouch = scales[Animals.Scales.ParameterScaleTypes.radiusTouch];\r\n                }\r\n                Object.defineProperty(Navigation.prototype, \"speedSavvy\", {\r\n                    get: function () {\r\n                        return this._speedSavvy;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._speedSavvy = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Navigation.prototype, \"radiusVision\", {\r\n                    get: function () {\r\n                        return this._radiusVision;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._radiusVision = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Navigation.prototype, \"radiusHearing\", {\r\n                    get: function () {\r\n                        return this._radiusHearing;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._radiusHearing = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Navigation.prototype, \"radiusSmell\", {\r\n                    get: function () {\r\n                        return this._radiusSmell;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._radiusSmell = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(Navigation.prototype, \"radiusTouch\", {\r\n                    get: function () {\r\n                        return this._radiusTouch;\r\n                    },\r\n                    set: function (param) {\r\n                        if (param) {\r\n                            this._radiusTouch = param;\r\n                        }\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Navigation.prototype.changeSpeedSavvy = function (delta) {\r\n                    this._speedSavvy.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Navigation.prototype.changeRadiusVision = function (delta) {\r\n                    this._radiusVision.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Navigation.prototype.changeRadiusHearing = function (delta) {\r\n                    this._radiusHearing.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Navigation.prototype.changeRadiusSmell = function (delta) {\r\n                    this._radiusSmell.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Navigation.prototype.changeRadiusTouch = function (delta) {\r\n                    this._radiusTouch.change(delta);\r\n                    this.analysis();\r\n                };\r\n                Navigation.prototype.analysis = function () {\r\n                    this.state.analysis([]);\r\n                };\r\n                return Navigation;\r\n            }());\r\n            TypeSystems.Navigation = Navigation;\r\n        })(TypeSystems = Systems.TypeSystems || (Systems.TypeSystems = {}));\r\n    })(Systems = Animals.Systems || (Animals.Systems = {}));\r\n})(Animals || (Animals = {}));\r\nvar lion = {\r\n    systems: [\r\n        {\r\n            type: Animals.Systems.SystemTypes.muscular,\r\n            scalesType: [\r\n                { type: Animals.Scales.ParameterScaleTypes.speed },\r\n                { type: Animals.Scales.ParameterScaleTypes.speed },\r\n                { type: Animals.Scales.ParameterScaleTypes.weight }\r\n            ],\r\n        },\r\n        {\r\n            type: Animals.Systems.SystemTypes.circulatory,\r\n            scalesType: [\r\n                { type: Animals.Scales.ParameterScaleTypes.pressure },\r\n                { type: Animals.Scales.ParameterScaleTypes.heartbeat }\r\n            ],\r\n        }\r\n    ],\r\n    scales: [\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.heartbeat,\r\n            params: {\r\n                name: 'Сердцебиение',\r\n                current: 9,\r\n                min: 0,\r\n                max: 100,\r\n                responseDelay: 0.12,\r\n            }\r\n        },\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.pressure,\r\n            params: {\r\n                name: 'Давление',\r\n                current: 8,\r\n                min: 0,\r\n                max: 10,\r\n                responseDelay: 0.13\r\n            }\r\n        },\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.speed,\r\n            params: {\r\n                name: 'Скорость',\r\n                current: 9,\r\n                min: 0,\r\n                max: 100,\r\n                responseDelay: 0.12,\r\n            }\r\n        },\r\n        {\r\n            typeScale: Animals.Scales.ScaleTypes.argument,\r\n            type: Animals.Scales.ParameterScaleTypes.weight,\r\n            params: {\r\n                name: 'Вес',\r\n                current: 8,\r\n                min: 0,\r\n                max: 10,\r\n                responseDelay: 0.1\r\n            }\r\n        }\r\n    ],\r\n    communication: [\r\n        {\r\n            type: Animals.Scales.ParameterScaleTypes.speed,\r\n            link: [\r\n                {\r\n                    type: Animals.Scales.ParameterScaleTypes.weight,\r\n                    behavior: Animals.Communications.BehaviorScaleTypes.increase,\r\n                    functions: Animals.Functions.FunctionTypes.line,\r\n                    params: [\r\n                        0.5,\r\n                        0.18\r\n                    ]\r\n                }\r\n            ],\r\n        },\r\n        {\r\n            type: Animals.Scales.ParameterScaleTypes.weight,\r\n            link: [\r\n                {\r\n                    type: Animals.Scales.ParameterScaleTypes.speed,\r\n                    behavior: Animals.Communications.BehaviorScaleTypes.decrease,\r\n                    functions: Animals.Functions.FunctionTypes.line,\r\n                    params: [\r\n                        0.5,\r\n                        0.1\r\n                    ]\r\n                }\r\n            ],\r\n        }\r\n    ],\r\n};\r\nvar APICore = (function () {\r\n    function APICore() {\r\n    }\r\n    APICore.instance = function () {\r\n        if (!this.inst) {\r\n            this.inst = new APICore();\r\n        }\r\n        return this.inst;\r\n    };\r\n    APICore.prototype.createAnimal = function (putToModel, id) {\r\n        var factory = Animals.AnimalBuilder.instance();\r\n        var animal = factory.create(lion);\r\n        animal.id = id;\r\n        return animal;\r\n    };\r\n    return APICore;\r\n}());\r\nvar Map;\r\n(function (Map_1) {\r\n    var Map = (function () {\r\n        function Map() {\r\n        }\r\n        Map.instance = function () {\r\n            if (!this._inst) {\r\n                this._inst = new Map();\r\n            }\r\n            return this._inst;\r\n        };\r\n        Object.defineProperty(Map.prototype, \"world\", {\r\n            get: function () {\r\n                return this._world;\r\n            },\r\n            set: function (map) {\r\n                if (map) {\r\n                    this._world = map;\r\n                    this._initializationWorld();\r\n                }\r\n                else {\r\n                    throw new Error('World was not found...');\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Map.prototype, \"obstaclesLayer\", {\r\n            set: function (layer) {\r\n                if (layer) {\r\n                    this._obstaclesLayer = layer;\r\n                }\r\n                else {\r\n                    throw new Error('Layer obstacle was not found...');\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Map.prototype, \"waterLayer\", {\r\n            set: function (layer) {\r\n                if (layer) {\r\n                    this._waterLayer = layer;\r\n                }\r\n                else {\r\n                    throw new Error('Layer water was not found...');\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Map.prototype, \"treeLayer\", {\r\n            set: function (layer) {\r\n                if (layer) {\r\n                    this._treeLayer = layer;\r\n                }\r\n                else {\r\n                    throw new Error('Layer tree was not found...');\r\n                }\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Map.prototype._initializationWorld = function () {\r\n            this._initializationLayer();\r\n            this._sizeMapTiled = this._world.getMapSize();\r\n            this._sizeTiled = this._world.getTileSize();\r\n            this._sizeMapPixel = this._getSizeMapPixel();\r\n        };\r\n        Map.prototype._initializationLayer = function () {\r\n            this.obstaclesLayer = this._world.getLayer('obstacle');\r\n            this.waterLayer = this._world.getLayer('water');\r\n            this.treeLayer = this._world.getLayer('tree');\r\n        };\r\n        Map.prototype._getSizeMapPixel = function () {\r\n            var sizeX = this._sizeMapTiled.width * this._sizeTiled.width;\r\n            var sizeY = this._sizeMapTiled.height * this._sizeTiled.height;\r\n            return cc.v2(sizeX, sizeY);\r\n        };\r\n        Map.prototype.convertTiledPos = function (posInPixel) {\r\n            var x = Math.floor((posInPixel.x) / this._sizeTiled.width);\r\n            var y = Math.floor((this._sizeMapPixel.y - (posInPixel.y)) / this._sizeTiled.height);\r\n            return cc.v2(x, y);\r\n        };\r\n        Map.prototype.convertPixelPos = function (posInTiled) {\r\n            var x = posInTiled.x * this._sizeTiled.width + this._sizeTiled.width / 2;\r\n            var y = this._sizeMapPixel.y - (posInTiled.y * this._sizeTiled.height) - this._sizeTiled.height / 2;\r\n            return cc.v2(x, y);\r\n        };\r\n        Map.prototype.isCheсkObstacle = function (gid) {\r\n            if (this._isCorrectPos(gid)) {\r\n                if (this._obstaclesLayer.getTileGIDAt(gid.x, gid.y) === 0) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        Map.prototype._isCorrectPos = function (pos) {\r\n            if (pos.x < 0 || pos.y < 0 || pos.x > this._sizeMapTiled.width - 1 || pos.y > this._sizeMapTiled.height - 1) {\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n        return Map;\r\n    }());\r\n    Map_1.Map = Map;\r\n})(Map || (Map = {}));\r\n//# sourceMappingURL=build-ts.js.map"
  ]
}